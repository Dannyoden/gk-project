{"version":3,"sources":["webpack:///./src/components/wizard/PlayerWizard.vue?3c9e","webpack:///./src/backend/PlayerBackend.ts","webpack:///./src/components/wizard/PlayerWizard.vue","webpack:///./src/components/wizard/PlayerWizard.vue?c0f9","webpack:///./src/components/wizard/PlayerWizard.vue?ad66","webpack:///./src/components/wizard/PlayerWizard.vue?8b94"],"names":["render","_vm","this","_h","$createElement","_c","_self","key","componentKey","staticClass","_v","_s","label","on","navigateBack","attrs","directives","name","rawName","value","player","expression","domProps","$event","target","composing","$set","_m","givenNameValid","_e","lastnameValid","shirtNumberIsValid","$$selectedVal","Array","prototype","filter","call","options","o","selected","map","val","_value","multiple","positionValid","preferredFootValid","date","setDate","icon","position","changeShowRemovePlayerPopUp","submitForm","removePlayerMessage","removePlayer","staticRenderFns","api","URI","PlayerBackend","PLAYER_ENDPOINT","from","delete","headers","Accept","Authorization","data","catch","error","post","ClubTeamModule","ADD_PLAYER","EDIT_PLAYER","showRemovePlayerPopUp","id","undefined","givenName","surname","shirtNumber","preferredFoot","dateOfBirth","playerId","$route","params","clubTeam","players","PlayerDto","deletePlayer","subscribe","isValid","validateForm","upsertPlayer","isEditPlayer","$toasted","global","playerUpdatedToast","message","isAddPlayer","playerAddedToast","createEmptyPlayerWizard","$router","push","length","State","ClubTeamDto","components","PopUp","NavBar","Footer","DatePicker","Button","component"],"mappings":"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","file":"js/chunk-0f21f8c2.c315fc14.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{key:_vm.componentKey,staticClass:\"body\"},[_c('nav-bar'),_c('div',{staticClass:\"box\"},[_c('span',{staticClass:\"tag is-info is-pulled-left\"},[_vm._v(_vm._s(_vm.label))]),_c('button',{staticClass:\"delete is-pulled-right\",on:{\"click\":_vm.navigateBack}}),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"field\"},[_c('label',{staticClass:\"label\",attrs:{\"for\":\"given-name\"}},[_vm._v(\" Given name \")]),_c('div',{staticClass:\"control has-icons-left has-icons-right\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.player.givenName),expression:\"player.givenName\"}],staticClass:\"input is-primary\",attrs:{\"id\":\"given-name\",\"type\":\"text\",\"placeholder\":\"enter a given name\",\"autocomplete\":\"off\"},domProps:{\"value\":(_vm.player.givenName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.player, \"givenName\", $event.target.value)}}}),_vm._m(0)]),(!_vm.givenNameValid)?_c('p',{staticClass:\"help is-danger\"},[_vm._v(\" Please enter a valid given name \")]):_vm._e()]),_c('div',{staticClass:\"field\"},[_c('label',{staticClass:\"label\",attrs:{\"for\":\"surname\"}},[_vm._v(\" Surname \")]),_c('div',{staticClass:\"control has-icons-left has-icons-right\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.player.surname),expression:\"player.surname\"}],staticClass:\"input is-primary\",attrs:{\"id\":\"surname\",\"type\":\"text\",\"placeholder\":\"enter a surname\",\"autocomplete\":\"off\"},domProps:{\"value\":(_vm.player.surname)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.player, \"surname\", $event.target.value)}}}),_vm._m(1)]),(!_vm.lastnameValid)?_c('p',{staticClass:\"help is-danger\"},[_vm._v(\" Please enter a valid surname \")]):_vm._e()]),_c('div',{staticClass:\"field\"},[_c('label',{staticClass:\"label\",attrs:{\"for\":\"shirt-number\"}},[_vm._v(\" Shirt number \")]),_c('div',{staticClass:\"control has-icons-left has-icons-right\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.player.shirtNumber),expression:\"player.shirtNumber\"}],staticClass:\"input is-primary\",attrs:{\"id\":\"shirt-number\",\"type\":\"number\",\"placeholder\":\"enter a shirt number\",\"autocomplete\":\"off\"},domProps:{\"value\":(_vm.player.shirtNumber)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.player, \"shirtNumber\", $event.target.value)}}}),_vm._m(2)]),(!_vm.shirtNumberIsValid)?_c('p',{staticClass:\"help is-danger\"},[_vm._v(\" Please enter a shirt number between 1 and 99 \")]):_vm._e()]),_c('div',{staticClass:\"field\"},[_c('label',{staticClass:\"label\",attrs:{\"for\":\"position\"}},[_vm._v(\" Position \")]),_c('div',{staticClass:\"control\"},[_c('div',{staticClass:\"select is-primary\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.player.position),expression:\"player.position\"}],attrs:{\"id\":\"position\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.player, \"position\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',[_vm._v(\"GOALKEEPER\")]),_c('option',[_vm._v(\"DEFENDER\")]),_c('option',[_vm._v(\"MIDFIELDER\")]),_c('option',[_vm._v(\"STRIKER\")])])])]),(!_vm.positionValid)?_c('p',{staticClass:\"help is-danger\"},[_vm._v(\" Please select a position \")]):_vm._e()]),_c('div',{staticClass:\"field\"},[_c('label',{staticClass:\"label\",attrs:{\"for\":\"preferred-foot\"}},[_vm._v(\" Preferred foot \")]),_c('div',{staticClass:\"control\"},[_c('div',{staticClass:\"select is-primary\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.player.preferredFoot),expression:\"player.preferredFoot\"}],attrs:{\"id\":\"preferred-foot\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.player, \"preferredFoot\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',[_vm._v(\"RIGHT\")]),_c('option',[_vm._v(\"LEFT\")]),_c('option',[_vm._v(\"BOTH\")])])])]),(!_vm.preferredFootValid)?_c('p',{staticClass:\"help is-danger\"},[_vm._v(\" Please select the preferred foot \")]):_vm._e()]),_c('date-picker',{attrs:{\"label\":\"Date of birth\",\"date\":_vm.date},on:{\"dateChanged\":_vm.setDate}}),_c('div',{staticClass:\"field is-grouped\"},[(_vm.isEditPlayer)?_c('Button',{attrs:{\"icon-data\":{icon: 'fas fa-trash-alt', position: 'left'},\"class-name\":\"button is-centered is-danger is-outlined\"},on:{\"clicked\":_vm.changeShowRemovePlayerPopUp}}):_vm._e(),_c('Button',{attrs:{\"icon-data\":{icon: 'far fa-save', position: 'left'},\"class-name\":\"button is-centered is-primary is-outlined no-background\",\"text\":\"Save\"},on:{\"clicked\":function($event){return _vm.submitForm(true)}}}),_c('Button',{attrs:{\"icon-data\":{icon: 'fas fa-angle-double-right', position: 'right'},\"class-name\":\"button is-centered is-info is-outlined\",\"text\":\"Add more\"},on:{\"clicked\":function($event){return _vm.submitForm(false)}}})],1),(_vm.showRemovePlayerPopUp)?_c('PopUp',{attrs:{\"pop-up-text\":this.removePlayerMessage},on:{\"decline\":_vm.changeShowRemovePlayerPopUp,\"confirm\":_vm.removePlayer}}):_vm._e()],1)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small is-left\"},[_c('i',{staticClass:\"fas fa-user\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small is-left\"},[_c('i',{staticClass:\"fas fa-user\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small is-left\"},[_c('i',{staticClass:\"fas fa-tshirt\"})])}]\n\nexport { render, staticRenderFns }","import Axios, {AxiosError, AxiosResponse} from 'axios';\nimport {from, Observable } from 'rxjs';\nimport authHeader from \"@/backend/AuthHeader\";\nimport PlayerDto from \"@/data/dto/PlayerDto\";\nimport ClubTeamDto from \"@/data/dto/ClubTeamDto\";\n\nexport default class PlayerBackend {\n    private static PLAYER_ENDPOINT =  process.env.VUE_APP_BASE_URL + '/api/player';\n\n    public static deletePlayer(player: PlayerDto, { api = Axios } = {} ): Observable<AxiosResponse> {\n        const URI = PlayerBackend.PLAYER_ENDPOINT;\n        return from(\n            api.delete(\n                URI,\n                {\n                    headers: {\n                        Accept: 'application/json',\n                        Authorization: authHeader()\n                    },\n                    data: player\n                })\n                .catch((error: AxiosError) => {\n                        throw error;\n                    }\n                )\n        );\n    }\n\n    public static upsertPlayer(player: PlayerDto, { api = Axios } = {} ): Observable<AxiosResponse> {\n        const URI = PlayerBackend.PLAYER_ENDPOINT;\n        return from(\n            api.post(\n                URI,\n                player,\n                {\n                    headers: {\n                        Accept: 'application/json',\n                        Authorization: authHeader()\n                    }\n                })\n                .catch((error: AxiosError) => {\n                        throw error;\n                    }\n                )\n        );\n    }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Vue} from 'vue-property-decorator';\nimport NavBar from \"@/components/navigation/NavBar.vue\";\nimport Footer from \"@/components/navigation/Footer.vue\";\nimport PlayerDto from \"@/data/dto/PlayerDto\";\nimport ClubTeamDto from \"@/data/dto/ClubTeamDto\";\nimport Button from \"@/components/common/Button.vue\";\nimport {namespace} from \"vuex-class\";\nimport PlayerBackend from \"@/backend/PlayerBackend\";\nimport DatePicker from \"@/components/wizard/utils/DatePicker.vue\";\nimport PopUp from '@/components/common/PopUp.vue';\nimport {findPlayerByIdAndTeam} from '@/components/wizard/utils/SessionWizardUtils';\n\nconst ClubTeamModule = namespace(\"ClubTeamModule\");\nconst ADD_PLAYER = 'Add player';\nconst EDIT_PLAYER = 'Edit player';\n\n@Component({\n    components: {\n        PopUp,\n        NavBar,\n        Footer,\n        DatePicker,\n        Button\n    }\n})\nexport default class PlayerWizard extends Vue {\n\n    @ClubTeamModule.State('clubTeam')\n    private clubTeam!: ClubTeamDto;\n\n    private componentKey = 0;\n    private label = ADD_PLAYER;\n    private givenNameValid = true;\n    private lastnameValid = true;\n    private preferredFootValid = true;\n    private shirtNumberIsValid = true;\n    private positionValid = true;\n    private showRemovePlayerPopUp = false;\n\n    player: PlayerDto = {\n        id: undefined,\n        givenName: undefined,\n        surname: undefined,\n        shirtNumber: undefined,\n        position: undefined,\n        preferredFoot: undefined,\n        dateOfBirth: undefined\n    }\n\n    created() {\n        const playerId = this.$route.params.playerId;\n        if (playerId && this.clubTeam.players) {\n            this.label = EDIT_PLAYER;\n            this.player = findPlayerByIdAndTeam(playerId, this.clubTeam.players)!;\n        }\n    }\n\n    get date() {\n        return this.player.dateOfBirth;\n    }\n\n    get isEditPlayer() {\n        return this.label === EDIT_PLAYER;\n    }\n\n    get isAddPlayer() {\n        return this.label === ADD_PLAYER;\n    }\n\n    private setDate(date: Date) {\n        this.player.dateOfBirth = date;\n    }\n\n    get removePlayerMessage(): string {\n        return 'Are you sure you want to delete ' + this.player.givenName + ' ' + this.player.surname + '?';\n    }\n\n    changeShowRemovePlayerPopUp() {\n        this.showRemovePlayerPopUp = !this.showRemovePlayerPopUp;\n    }\n\n    createEmptyPlayerWizard() {\n        this.componentKey += 1;\n        if (this.label === EDIT_PLAYER) {\n            this.label = ADD_PLAYER;\n        }\n        this.player = new PlayerDto();\n    }\n\n    private removePlayer() {\n        if (this.player) {\n            PlayerBackend.deletePlayer(this.player)\n                .subscribe(() => {\n                    this.navigateBack();\n                })\n        }\n    }\n\n    submitForm(navigateBack: Boolean) {\n        const isValid = this.validateForm();\n            if (isValid && this.player) {\n                PlayerBackend.upsertPlayer(this.player)\n                    .subscribe(() => {\n                        if (this.isEditPlayer) {\n                            this.$toasted.global.playerUpdatedToast({\n                                message: this.player.givenName + ' ' + this.player.surname\n                            });\n                        }\n                        if (this.isAddPlayer) {\n                            this.$toasted.global.playerAddedToast({\n                                message: this.player.givenName + ' ' + this.player.surname\n                            });\n                        }\n                        if (navigateBack) {\n                            this.navigateBack();\n                        } else {\n                            this.createEmptyPlayerWizard();\n                        }\n                    });\n            }\n    }\n\n    navigateBack() {\n        this.$router.push('/manage-team');\n    }\n\n    private validateForm(): boolean {\n        this.givenNameValid = this.player!.givenName?.length !> 0;\n        this.lastnameValid = this.player!.surname?.length !> 0;\n        this.shirtNumberIsValid = !this.player!.shirtNumber ? false : this.player.shirtNumber >= 1 && this.player.shirtNumber <= 99;\n        this.positionValid = this.player!.position?.length !> 0;\n        this.preferredFootValid = this.player!.preferredFoot?.length !> 0;\n        return this.givenNameValid && this.lastnameValid && this.shirtNumberIsValid && this.positionValid && this.preferredFootValid;\n    }\n\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlayerWizard.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlayerWizard.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PlayerWizard.vue?vue&type=template&id=79b3e279&scoped=true&\"\nimport script from \"./PlayerWizard.vue?vue&type=script&lang=ts&\"\nexport * from \"./PlayerWizard.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PlayerWizard.vue?vue&type=style&index=0&id=79b3e279&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"79b3e279\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlayerWizard.vue?vue&type=style&index=0&id=79b3e279&scoped=true&lang=scss&\""],"sourceRoot":""}