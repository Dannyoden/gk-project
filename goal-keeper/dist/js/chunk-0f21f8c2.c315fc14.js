(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f21f8c2"],{3725:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{key:e.componentKey,staticClass:"body"},[a("nav-bar"),a("div",{staticClass:"box"},[a("span",{staticClass:"tag is-info is-pulled-left"},[e._v(e._s(e.label))]),a("button",{staticClass:"delete is-pulled-right",on:{click:e.navigateBack}}),a("div",{staticClass:"container"},[a("div",{staticClass:"field"},[a("label",{staticClass:"label",attrs:{for:"given-name"}},[e._v(" Given name ")]),a("div",{staticClass:"control has-icons-left has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.player.givenName,expression:"player.givenName"}],staticClass:"input is-primary",attrs:{id:"given-name",type:"text",placeholder:"enter a given name",autocomplete:"off"},domProps:{value:e.player.givenName},on:{input:function(t){t.target.composing||e.$set(e.player,"givenName",t.target.value)}}}),e._m(0)]),e.givenNameValid?e._e():a("p",{staticClass:"help is-danger"},[e._v(" Please enter a valid given name ")])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label",attrs:{for:"surname"}},[e._v(" Surname ")]),a("div",{staticClass:"control has-icons-left has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.player.surname,expression:"player.surname"}],staticClass:"input is-primary",attrs:{id:"surname",type:"text",placeholder:"enter a surname",autocomplete:"off"},domProps:{value:e.player.surname},on:{input:function(t){t.target.composing||e.$set(e.player,"surname",t.target.value)}}}),e._m(1)]),e.lastnameValid?e._e():a("p",{staticClass:"help is-danger"},[e._v(" Please enter a valid surname ")])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label",attrs:{for:"shirt-number"}},[e._v(" Shirt number ")]),a("div",{staticClass:"control has-icons-left has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.player.shirtNumber,expression:"player.shirtNumber"}],staticClass:"input is-primary",attrs:{id:"shirt-number",type:"number",placeholder:"enter a shirt number",autocomplete:"off"},domProps:{value:e.player.shirtNumber},on:{input:function(t){t.target.composing||e.$set(e.player,"shirtNumber",t.target.value)}}}),e._m(2)]),e.shirtNumberIsValid?e._e():a("p",{staticClass:"help is-danger"},[e._v(" Please enter a shirt number between 1 and 99 ")])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label",attrs:{for:"position"}},[e._v(" Position ")]),a("div",{staticClass:"control"},[a("div",{staticClass:"select is-primary"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.player.position,expression:"player.position"}],attrs:{id:"position"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.player,"position",t.target.multiple?a:a[0])}}},[a("option",[e._v("GOALKEEPER")]),a("option",[e._v("DEFENDER")]),a("option",[e._v("MIDFIELDER")]),a("option",[e._v("STRIKER")])])])]),e.positionValid?e._e():a("p",{staticClass:"help is-danger"},[e._v(" Please select a position ")])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label",attrs:{for:"preferred-foot"}},[e._v(" Preferred foot ")]),a("div",{staticClass:"control"},[a("div",{staticClass:"select is-primary"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.player.preferredFoot,expression:"player.preferredFoot"}],attrs:{id:"preferred-foot"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.player,"preferredFoot",t.target.multiple?a:a[0])}}},[a("option",[e._v("RIGHT")]),a("option",[e._v("LEFT")]),a("option",[e._v("BOTH")])])])]),e.preferredFootValid?e._e():a("p",{staticClass:"help is-danger"},[e._v(" Please select the preferred foot ")])]),a("date-picker",{attrs:{label:"Date of birth",date:e.date},on:{dateChanged:e.setDate}}),a("div",{staticClass:"field is-grouped"},[e.isEditPlayer?a("Button",{attrs:{"icon-data":{icon:"fas fa-trash-alt",position:"left"},"class-name":"button is-centered is-danger is-outlined"},on:{clicked:e.changeShowRemovePlayerPopUp}}):e._e(),a("Button",{attrs:{"icon-data":{icon:"far fa-save",position:"left"},"class-name":"button is-centered is-primary is-outlined no-background",text:"Save"},on:{clicked:function(t){return e.submitForm(!0)}}}),a("Button",{attrs:{"icon-data":{icon:"fas fa-angle-double-right",position:"right"},"class-name":"button is-centered is-info is-outlined",text:"Add more"},on:{clicked:function(t){return e.submitForm(!1)}}})],1),e.showRemovePlayerPopUp?a("PopUp",{attrs:{"pop-up-text":this.removePlayerMessage},on:{decline:e.changeShowRemovePlayerPopUp,confirm:e.removePlayer}}):e._e()],1)])],1)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon is-small is-left"},[a("i",{staticClass:"fas fa-user"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon is-small is-left"},[a("i",{staticClass:"fas fa-user"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon is-small is-left"},[a("i",{staticClass:"fas fa-tshirt"})])}],r=a("d4ec"),l=a("bee2"),n=a("262e"),o=a("2caf"),c=a("9ab4"),p=a("1b40"),d=a("906d"),u=a("be74"),v=a("a4e7"),m=a("dfea"),h=a("90cd"),f=a("4bb5"),y=a("bc3a"),b=a.n(y),g=a("d3fb"),P=a("a6dc"),_=function(){function e(){Object(r["a"])(this,e)}return Object(l["a"])(e,null,[{key:"deletePlayer",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=a.api,s=void 0===i?b.a:i,r=e.PLAYER_ENDPOINT;return Object(g["a"])(s.delete(r,{headers:{Accept:"application/json",Authorization:Object(P["a"])()},data:t}).catch((function(e){throw e})))}},{key:"upsertPlayer",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=a.api,s=void 0===i?b.a:i,r=e.PLAYER_ENDPOINT;return Object(g["a"])(s.post(r,t,{headers:{Accept:"application/json",Authorization:Object(P["a"])()}}).catch((function(e){throw e})))}}]),e}();_.PLAYER_ENDPOINT="https://enigmatic-everglades-62840.herokuapp.com/api/player";var C,N=a("6c9c"),k=a("c0ee"),E=a("bfee"),O=Object(f["a"])("ClubTeamModule"),w="Add player",j="Edit player",V=function(e){Object(n["a"])(a,e);var t=Object(o["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.componentKey=0,e.label=w,e.givenNameValid=!0,e.lastnameValid=!0,e.preferredFootValid=!0,e.shirtNumberIsValid=!0,e.positionValid=!0,e.showRemovePlayerPopUp=!1,e.player={id:void 0,givenName:void 0,surname:void 0,shirtNumber:void 0,position:void 0,preferredFoot:void 0,dateOfBirth:void 0},e}return Object(l["a"])(a,[{key:"created",value:function(){var e=this.$route.params.playerId;e&&this.clubTeam.players&&(this.label=j,this.player=Object(E["a"])(e,this.clubTeam.players))}},{key:"date",get:function(){return this.player.dateOfBirth}},{key:"isEditPlayer",get:function(){return this.label===j}},{key:"isAddPlayer",get:function(){return this.label===w}},{key:"setDate",value:function(e){this.player.dateOfBirth=e}},{key:"removePlayerMessage",get:function(){return"Are you sure you want to delete "+this.player.givenName+" "+this.player.surname+"?"}},{key:"changeShowRemovePlayerPopUp",value:function(){this.showRemovePlayerPopUp=!this.showRemovePlayerPopUp}},{key:"createEmptyPlayerWizard",value:function(){this.componentKey+=1,this.label===j&&(this.label=w),this.player=new v["a"]}},{key:"removePlayer",value:function(){var e=this;this.player&&_.deletePlayer(this.player).subscribe((function(){e.navigateBack()}))}},{key:"submitForm",value:function(e){var t=this,a=this.validateForm();a&&this.player&&_.upsertPlayer(this.player).subscribe((function(){t.isEditPlayer&&t.$toasted.global.playerUpdatedToast({message:t.player.givenName+" "+t.player.surname}),t.isAddPlayer&&t.$toasted.global.playerAddedToast({message:t.player.givenName+" "+t.player.surname}),e?t.navigateBack():t.createEmptyPlayerWizard()}))}},{key:"navigateBack",value:function(){this.$router.push("/manage-team")}},{key:"validateForm",value:function(){var e,t,a,i;return this.givenNameValid=(null===(e=this.player.givenName)||void 0===e?void 0:e.length)>0,this.lastnameValid=(null===(t=this.player.surname)||void 0===t?void 0:t.length)>0,this.shirtNumberIsValid=!!this.player.shirtNumber&&(this.player.shirtNumber>=1&&this.player.shirtNumber<=99),this.positionValid=(null===(a=this.player.position)||void 0===a?void 0:a.length)>0,this.preferredFootValid=(null===(i=this.player.preferredFoot)||void 0===i?void 0:i.length)>0,this.givenNameValid&&this.lastnameValid&&this.shirtNumberIsValid&&this.positionValid&&this.preferredFootValid}}]),a}(p["d"]);Object(c["a"])([O.State("clubTeam"),Object(c["c"])("design:type","function"===typeof(C="undefined"!==typeof m["a"]&&m["a"])?C:Object)],V.prototype,"clubTeam",void 0),V=Object(c["a"])([Object(p["a"])({components:{PopUp:k["a"],NavBar:d["a"],Footer:u["a"],DatePicker:N["a"],Button:h["a"]}})],V);var F=V,A=F,R=(a("993d"),a("2877")),T=Object(R["a"])(A,i,s,!1,null,"79b3e279",null);t["default"]=T.exports},"3c23":function(e,t,a){},"993d":function(e,t,a){"use strict";a("3c23")}}]);
//# sourceMappingURL=chunk-0f21f8c2.c315fc14.js.map