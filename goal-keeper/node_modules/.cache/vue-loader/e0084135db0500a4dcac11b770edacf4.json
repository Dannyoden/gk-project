{"remainingRequest":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/src/components/dashboard/main/DashboardMain.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/src/components/dashboard/main/DashboardMain.vue","mtime":1618074040560},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IHtWdWV9IGZyb20gInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IiOwppbXBvcnQgQ29tcG9uZW50IGZyb20gInZ1ZS1jbGFzcy1jb21wb25lbnQiOwppbXBvcnQgTmF2QmFyIGZyb20gIkAvY29tcG9uZW50cy9uYXZpZ2F0aW9uL05hdkJhci52dWUiOwppbXBvcnQgSGVyb0Jhbm5lciBmcm9tICJAL2NvbXBvbmVudHMvY29tbW9uL0hlcm9CYW5uZXIudnVlIjsKaW1wb3J0IFNpZGVNZW51IGZyb20gIkAvY29tcG9uZW50cy9uYXZpZ2F0aW9uL0Ryb3Bkb3duTWVudS52dWUiOwppbXBvcnQgVGFibGUgZnJvbSAiQC9jb21wb25lbnRzL2Rhc2hib2FyZC9tYWluL2NvbXBvbmVudHMvVGFibGUudnVlIjsKaW1wb3J0IERhc2hib2FyZEJhY2tlbmQgZnJvbSAiQC9iYWNrZW5kL0Rhc2hib2FyZEJhY2tlbmQiOwppbXBvcnQgUGxheWVyRGF0YUR0byBmcm9tICJAL2RhdGEvZHRvL1BsYXllckRhdGFEdG8iOwppbXBvcnQgRm9vdGVyIGZyb20gIkAvY29tcG9uZW50cy9uYXZpZ2F0aW9uL0Zvb3Rlci52dWUiOwppbXBvcnQgU3VtbWFyeVBhbmVsIGZyb20gIkAvY29tcG9uZW50cy9kYXNoYm9hcmQvbWFpbi9jb21wb25lbnRzL1N1bW1hcnlQYW5lbC52dWUiCmltcG9ydCBMaW5lQ2hhcnRQYW5lbCBmcm9tICJAL2NvbXBvbmVudHMvZGFzaGJvYXJkL21haW4vY29tcG9uZW50cy9MaW5lQ2hhcnRQYW5lbC52dWUiOwppbXBvcnQgVGVhbVN1bW1hcnlEYXRhRHRvIGZyb20gIkAvZGF0YS9kdG8vVGVhbVN1bW1hcnlEYXRhRHRvIjsKaW1wb3J0IFNwaW5uZXIgZnJvbSAndnVlLXNpbXBsZS1zcGlubmVyJwoKCmNvbnN0IE5PVF9WQUxVRVMgPSBbJ3RvdGFsU2Vzc2lvbnMnLCAnYXZnU2Vzc2lvbnMnLCAnc2Vzc2lvbnNQbGFubmVkJ107CgpAQ29tcG9uZW50KHsKICBjb21wb25lbnRzOiB7CiAgICBIZXJvQmFubmVyLAogICAgTmF2QmFyLAogICAgU3Bpbm5lciwKICAgIFNpZGVNZW51LAogICAgVGFibGUsCiAgICBGb290ZXIsCiAgICBTdW1tYXJ5UGFuZWwsCiAgICBMaW5lQ2hhcnRQYW5lbAogIH0KfSkKZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGFzaGJvYXJkTWFpbiBleHRlbmRzIFZ1ZSB7CgogIHRlYW1TdW1tYXJ5RGF0YTogVGVhbVN1bW1hcnlEYXRhRHRvID0gbmV3IFRlYW1TdW1tYXJ5RGF0YUR0bygpOwogIGNoYXJ0RGF0YSA9IHt9OwoKICBjcmVhdGVkKCkgewogICB0aGlzLnJldHJpZXZlVGVhbU92ZXJ2aWV3KCk7CiAgIHRoaXMucmV0cmlldmVTdW1tYXJ5KCkKICB9CgogIHJldHJpZXZlVGVhbU92ZXJ2aWV3KCl7CiAgICBsZXQgcGxheWVyRGF0YUR0b3M6IFBsYXllckRhdGFEdG9bXSA9IFtdOwogICAgRGFzaGJvYXJkQmFja2VuZC5yZXRyaWV2ZVRlYW1PdmVydmlld0RhdGEoKQogICAgICAgIC5zdWJzY3JpYmUoCiAgICAgICAgICAgIChwbGF5ZXJEYXRhQ29sbGVjdGlvbjogUGxheWVyRGF0YUR0b1tdKSA9PiB7CiAgICAgICAgICAgICAgcGxheWVyRGF0YUNvbGxlY3Rpb24uZm9yRWFjaChwbGF5ZXJEYXRhID0+IHsKICAgICAgICAgICAgICAgIHBsYXllckRhdGFEdG9zLnB1c2gocGxheWVyRGF0YSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0sIChlcnJvcjogYW55KSA9PiB7CiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9LCAoKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdEYXNoYm9hcmRNb2R1bGUvc2V0Q2x1YlRlYW1PdmVydmlldycsIHBsYXllckRhdGFEdG9zKTsKICAgICAgICAgICAgfQogICAgICAgICk7CiAgfQoKICByZXRyaWV2ZVN1bW1hcnkoKSB7CiAgICBEYXNoYm9hcmRCYWNrZW5kLnJldHJpZXZlU3VtbWFyeURhdGEoKQogICAgICAgIC5zdWJzY3JpYmUodGVhbVN1bW1hcnlEYXRhID0+IHsKICAgICAgICAgIHRoaXMudGVhbVN1bW1hcnlEYXRhID0gdGVhbVN1bW1hcnlEYXRhOwogICAgICAgICAgaWYodGVhbVN1bW1hcnlEYXRhKSB7CiAgICAgICAgICAgIHRoaXMuY2hhcnREYXRhID0gdGhpcy5nZXRDaGFydERhdGEodGVhbVN1bW1hcnlEYXRhKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICB9CgogIGdldENoYXJ0RGF0YSh0ZWFtU3VtbWFyeURhdGE6IFRlYW1TdW1tYXJ5RGF0YUR0bykgewogICAgcmV0dXJuIHsKICAgICAgbGFiZWxzOiBbJzMgd2Vla3MgYWdvJywgJzMgd2Vla3MgYWdvJywgJzIgd2Vla3MgYWdvJywgJ0xhc3QgNyBkYXlzJ10sCiAgICAgIGRhdGFzZXRzOiBbIHsKICAgICAgICBsYWJlbDogJ1Nlc3Npb25zIHBlciB3ZWVrJywKICAgICAgICBib3JkZXJDb2xvcjogJyM1MGZmZTUnLAogICAgICAgIGZpbGw6IGZhbHNlLAogICAgICAgIGRhdGE6IHRlYW1TdW1tYXJ5RGF0YS5zdW1tYXJ5RGF0YSEuZmlsdGVyKHMgPT4gIU5PVF9WQUxVRVMuaW5jbHVkZXMocy5sYWJlbCEpKS5tYXAocyA9PiBzLnZhbHVlKQogICAgICAgIH0KICAgICAgXQogICAgfQogIH0KfQoK"},{"version":3,"sources":["DashboardMain.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DashboardMain.vue","sourceRoot":"src/components/dashboard/main","sourcesContent":["<template>\n  <div class=\"page-wrapper\">\n    <nav-bar/>\n    <HeroBanner label=\"Dashboard\"/>\n    <vue-simple-spinner></vue-simple-spinner>\n    <div class=\"columns\">\n      <SideMenu/>\n      <div class=\"column\">\n        <SummaryPanel v-if=\"teamSummaryData.summaryData\" :team-summary-data=\"teamSummaryData\"/>\n        <LineChartPanel v-if=\"chartData.datasets\" :chart-data=\"chartData\"/>\n        <Table/>\n      </div>\n    </div>\n    <Footer/>\n  </div>\n</template>\n<script lang=\"ts\">\n\nimport {Vue} from \"vue-property-decorator\";\nimport Component from \"vue-class-component\";\nimport NavBar from \"@/components/navigation/NavBar.vue\";\nimport HeroBanner from \"@/components/common/HeroBanner.vue\";\nimport SideMenu from \"@/components/navigation/DropdownMenu.vue\";\nimport Table from \"@/components/dashboard/main/components/Table.vue\";\nimport DashboardBackend from \"@/backend/DashboardBackend\";\nimport PlayerDataDto from \"@/data/dto/PlayerDataDto\";\nimport Footer from \"@/components/navigation/Footer.vue\";\nimport SummaryPanel from \"@/components/dashboard/main/components/SummaryPanel.vue\"\nimport LineChartPanel from \"@/components/dashboard/main/components/LineChartPanel.vue\";\nimport TeamSummaryDataDto from \"@/data/dto/TeamSummaryDataDto\";\nimport Spinner from 'vue-simple-spinner'\n\n\nconst NOT_VALUES = ['totalSessions', 'avgSessions', 'sessionsPlanned'];\n\n@Component({\n  components: {\n    HeroBanner,\n    NavBar,\n    Spinner,\n    SideMenu,\n    Table,\n    Footer,\n    SummaryPanel,\n    LineChartPanel\n  }\n})\nexport default class DashboardMain extends Vue {\n\n  teamSummaryData: TeamSummaryDataDto = new TeamSummaryDataDto();\n  chartData = {};\n\n  created() {\n   this.retrieveTeamOverview();\n   this.retrieveSummary()\n  }\n\n  retrieveTeamOverview(){\n    let playerDataDtos: PlayerDataDto[] = [];\n    DashboardBackend.retrieveTeamOverviewData()\n        .subscribe(\n            (playerDataCollection: PlayerDataDto[]) => {\n              playerDataCollection.forEach(playerData => {\n                playerDataDtos.push(playerData);\n              });\n            }, (error: any) => {\n              console.error(error);\n              return;\n            }, () => {\n              this.$store.commit('DashboardModule/setClubTeamOverview', playerDataDtos);\n            }\n        );\n  }\n\n  retrieveSummary() {\n    DashboardBackend.retrieveSummaryData()\n        .subscribe(teamSummaryData => {\n          this.teamSummaryData = teamSummaryData;\n          if(teamSummaryData) {\n            this.chartData = this.getChartData(teamSummaryData);\n          }\n        });\n  }\n\n  getChartData(teamSummaryData: TeamSummaryDataDto) {\n    return {\n      labels: ['3 weeks ago', '3 weeks ago', '2 weeks ago', 'Last 7 days'],\n      datasets: [ {\n        label: 'Sessions per week',\n        borderColor: '#50ffe5',\n        fill: false,\n        data: teamSummaryData.summaryData!.filter(s => !NOT_VALUES.includes(s.label!)).map(s => s.value)\n        }\n      ]\n    }\n  }\n}\n\n</script>\n\n<style scoped lang=\"scss\">\n\n.page-wrapper {\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n}\n</style>\n"]}]}