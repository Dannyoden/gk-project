{"remainingRequest":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/src/components/wizard/SessionWizard.vue?vue&type=style&index=0&id=d449a126&scoped=true&lang=scss&","dependencies":[{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/src/components/wizard/SessionWizard.vue","mtime":1618557257824},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouYm9keSB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKfQoKLmJvZHkgLndyYXBwZXIgewogICAgZGlzcGxheTogZmxleDsKICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDEwMCU7Cn0KCi5ib2R5IC53cmFwcGVyIC50YWcgewogICAgZGlzcGxheTogZmxleDsKICAgIHdpZHRoOiAxMDBweDsKfQoKLmJvZHkgLndyYXBwZXIgLmJveCB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgIG1hcmdpbjogNXB4OwogICAgd2lkdGg6IDk1JTsKICAgIGJhY2tncm91bmQtY29sb3I6ICMxZTFlMWU7CgogICAgLmJveC1oZWFkZXIgewogICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgfQoKICAgIC5zdGVwcGVyIHsKICAgICAgICBmbGV4OiAxOwogICAgICAgIG1hcmdpbjogMjBweCAwIDAgMDsKICAgICAgICBwYWRkaW5nOiAwOwoKICAgICAgICAuc3RlcHMgewogICAgICAgICAgICBtYXJnaW46IDIwcHggMCAyMHB4IDA7CiAgICAgICAgfQoKICAgICAgICAuc3RlcHMtY29udGVudCAuc3RlcC1jb250ZW50IHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDEwdmg7CgogICAgICAgICAgICBoMSB7CiAgICAgICAgICAgICAgICBmb250LXNpemU6IDMycHg7CiAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgICAgICBtYXJnaW46IDQwcHggMCA0MHB4IDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgLmZvb3Rlci1idXR0b25zIHsKICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgICAgICBtYXJnaW46IDV2aCAwIDV2aCAwOwogICAgfQp9Cgo="},{"version":3,"sources":["SessionWizard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgOA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"SessionWizard.vue","sourceRoot":"src/components/wizard","sourcesContent":["<template>\n    <div class=\"body\">\n        <nav-bar />\n        <div class=\"wrapper\">\n            <div class=\"box\">\n                <div class=\"box-header\">\n                    <span class=\"tag is-info is-pulled-left\">{{ LABEL_TEXT }}</span>\n                    <button class=\"delete is-pulled-right\" @click=\"navigateBack\"></button>\n                </div>\n                <div class=\"stepper\">\n                    <ul class=\"steps has-content-centered is-horizontal has-gaps\">\n                        <li v-for=\"(step, index) in SESSION_WIZARD_STEPS()\"\n                            :key=\"step.title\"\n                            class=\"steps-segment\"\n                            :class=\"{ 'is-active': index + 1 === currentStep, 'is-dashed': (index + 1) >= currentStep }\">\n                            <span class=\"steps-marker\">\n                                <span v-if=\"SESSION_WIZARD_STEPS()[index].hasIcon\" class=\"icon\">\n                                    <i :class=\"SESSION_WIZARD_STEPS()[index].iconValue\" />\n                                </span>\n                                <span v-else> {{ SESSION_WIZARD_STEPS()[index].iconValue }} </span>\n                            </span>\n                        </li>\n                    </ul>\n                    <ul v-for=\"(step, index) in SESSION_WIZARD_STEPS()\"\n                        :key=\"index\"\n                        class=\"steps-content\">\n                        <li v-if=\"(index + 1) === currentStep\"\n                            class=\"step-content\">\n                            <component\n                                v-bind:is=\"step.component\">\n                            </component>\n                        </li>\n                    </ul>\n                </div>\n                <footer class=\"footer-buttons\">\n                    <button v-if=\"this.currentStep > 1\"\n                            class=\"button is-primary is-outlined no-background\"\n                            @click=\"previousStep\"> {{ backButtonMessage }} </button>\n                    <p v-else></p>\n                    <button v-if=\"this.currentStep <= 4\"\n                            class=\"button is-primary is-outlined no-background\"\n                            @click=\"nextStep\"\n                            :disabled=\"noValidSessionDetails\">{{ nextOrFinishButton }}</button>\n                    <p v-else></p>\n                </footer>\n            </div>\n        </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue } from 'vue-property-decorator';\nimport NavBar from '@/components/navigation/NavBar.vue';\nimport SessionDetails from '@/components/wizard/utils/SessionDetails.vue';\nimport Routes from '@/router/Routes';\nimport TeamPicker from '@/components/wizard/utils/TeamPicker.vue';\nimport SessionWizardModule from '@/store/modules/SessionWizardModule';\nimport {namespace} from 'vuex-class';\nimport ClubTeamBackend from '@/backend/ClubTeamBackend';\nimport ClubTeamDto from '@/data/dto/ClubTeamDto';\nimport PlayerDto from '@/data/dto/PlayerDto';\nimport ConfirmationPage from '@/components/wizard/utils/ConfirmationPage.vue';\nimport SessionDto from '@/data/dto/SessionDto';\nimport SessionBackend from '@/backend/SessionBackend';\n\nconst ClubTeamModuleInstance = namespace('ClubTeamModule');\nconst SessionWizardModuleInstance = namespace('SessionWizardModule');\n\n@Component({\n    components: {\n        SessionDetails,\n        NavBar\n    }\n})\nexport default class SessionWizard extends Vue {\n\n    @ClubTeamModuleInstance.Getter('clubTeamExists')\n    clubTeamExist!: boolean;\n\n    @ClubTeamModuleInstance.Getter('clubTeamPlayers')\n    clubTeamPlayers!: () => PlayerDto[];\n\n    @SessionWizardModuleInstance.Getter('sessionWizardTeamExists')\n    sessionWizardTeamExists!: boolean;\n\n    @SessionWizardModuleInstance.Getter('currentStep')\n    step!: number;\n\n    @SessionWizardModuleInstance.Getter('hasValidSessionDetails')\n    hasValidSessionDetails!: boolean;\n\n    @SessionWizardModuleInstance.Getter('session')\n    getSession!: SessionDto;\n\n    readonly LABEL_TEXT = 'Create Session';\n    backButtonMessage = 'Back';\n    nextButtonMessage = 'Next';\n\n    /*\n        Om errors te voorkomen tijdens refreshen van de pagina is het nodig dat zowel\n        tijdens de created als mounted lifecycle hooks gecheckt wordt of de\n        SessionWizardModule al bestaat binnen de store. Zo niet dan moet deze worden\n        aangemaakt.\n     */\n    created() {\n        if (this.$store.hasModule('SessionWizardModule')) {\n            return;\n        }\n        this.$store.registerModule('SessionWizardModule', SessionWizardModule);\n\n        if (this.clubTeamExist) {\n            this.initSessionWizardPlayers();\n            return;\n        }\n\n        this.getTeamDetails();\n    }\n\n    mounted() {\n        if (this.$store.hasModule('SessionWizardModule')) {\n            return;\n        }\n        this.$store.registerModule('SessionWizardModule', SessionWizardModule);\n\n        if (this.clubTeamExist) {\n            this.initSessionWizardPlayers();\n            return;\n        }\n\n        this.getTeamDetails();\n    }\n\n    beforeDestroy() {\n        if (this.$store.hasModule('SessionWizardModule')) {\n            this.$store.unregisterModule('SessionWizardModule');\n        }\n    }\n\n    initSessionWizardPlayers() {\n        const clubTeamPlayers = this.clubTeamPlayers();\n        this.$store.commit('SessionWizardModule/setTeam', clubTeamPlayers);\n    }\n\n    getTeamDetails() {\n        ClubTeamBackend.retrieveTeam().subscribe(\n            (clubTeamDto: ClubTeamDto) => {\n                this.$store.commit('ClubTeamModule/setClubTeam', clubTeamDto);\n                this.$store.commit('SessionWizardModule/setTeam', clubTeamDto.players);\n            }, (error: any) => {\n                console.error(error);\n            }\n        );\n    }\n\n    get currentStep() {\n        return this.step;\n    }\n\n    get noValidSessionDetails() {\n        return !this.hasValidSessionDetails;\n    }\n\n    get nextOrFinishButton() {\n        return this.step === 4 ? this.nextButtonMessage = 'Finish' : this.nextButtonMessage;\n    }\n\n    private async nextStep() {\n        if (this.step === 4) {\n            const session = this.getSession;\n            SessionBackend.createSession(session).subscribe(() => this.navigateBack());\n            return;\n        }\n        this.$store.commit('SessionWizardModule/setPreviousStep', this.step);\n        this.$store.commit('SessionWizardModule/setStep', 1);\n    }\n\n    private previousStep() {\n        if (this.step === 1) {\n            return;\n        }\n        if (this.nextButtonMessage === 'Finish') {\n            this.nextButtonMessage = 'Next';\n        }\n        this.$store.commit('SessionWizardModule/setPreviousStep', this.step);\n        this.$store.commit('SessionWizardModule/setStep', -1);\n    }\n\n    private navigateBack() {\n        this.$router.push({\n            name: Routes.Main\n        });\n    }\n\n    readonly SESSION_WIZARD_STEPS = () => [\n        {\n            title: 'Session Details',\n            component: SessionDetails,\n            hasIcon: true,\n            iconValue: 'far fa-calendar'\n        },\n        {\n            title: 'Select First Team',\n            component: TeamPicker,\n            hasIcon: false,\n            iconValue: 1\n        },\n        {\n            title: 'Select Second Team',\n            component: TeamPicker,\n            hasIcon: false,\n            iconValue: 2\n        },\n        {\n            title: 'Confirmation',\n            component: ConfirmationPage,\n            hasIcon: true,\n            iconValue: 'fa fa-check'\n        }\n    ]\n}\n</script>\n\n<style scoped lang=\"scss\">\n\n.body {\n    display: flex;\n    flex-direction: column;\n}\n\n.body .wrapper {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n}\n\n.body .wrapper .tag {\n    display: flex;\n    width: 100px;\n}\n\n.body .wrapper .box {\n    display: flex;\n    flex-direction: column;\n    margin: 5px;\n    width: 95%;\n    background-color: #1e1e1e;\n\n    .box-header {\n        display: flex;\n        justify-content: space-between;\n    }\n\n    .stepper {\n        flex: 1;\n        margin: 20px 0 0 0;\n        padding: 0;\n\n        .steps {\n            margin: 20px 0 20px 0;\n        }\n\n        .steps-content .step-content {\n            display: flex;\n            justify-content: center;\n            margin-top: 10vh;\n\n            h1 {\n                font-size: 32px;\n                text-align: center;\n                margin: 40px 0 40px 0;\n            }\n        }\n    }\n\n    .footer-buttons {\n        display: flex;\n        justify-content: space-between;\n        margin: 5vh 0 5vh 0;\n    }\n}\n\n</style>\n"]}]}