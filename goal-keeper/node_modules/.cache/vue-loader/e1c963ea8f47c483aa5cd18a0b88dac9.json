{"remainingRequest":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/src/components/wizard/TeamWizard.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/src/components/wizard/TeamWizard.vue","mtime":1618425136743},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IHtDb21wb25lbnQsIFZ1ZX0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcic7CmltcG9ydCBOYXZCYXIgZnJvbSAiQC9jb21wb25lbnRzL25hdmlnYXRpb24vTmF2QmFyLnZ1ZSI7CmltcG9ydCBGb290ZXIgZnJvbSAiQC9jb21wb25lbnRzL25hdmlnYXRpb24vRm9vdGVyLnZ1ZSI7CmltcG9ydCB7bmFtZXNwYWNlfSBmcm9tICJ2dWV4LWNsYXNzIjsKaW1wb3J0IENsdWJUZWFtQmFja2VuZCBmcm9tICJAL2JhY2tlbmQvQ2x1YlRlYW1CYWNrZW5kIjsKY29uc3QgQ2x1YlRlYW1Nb2R1bGUgPSBuYW1lc3BhY2UoIkNsdWJUZWFtTW9kdWxlIik7CmltcG9ydCBDbHViVGVhbUR0byBmcm9tICJAL2RhdGEvZHRvL0NsdWJUZWFtRHRvIjsKaW1wb3J0IEJ1dHRvbiBmcm9tICJAL2NvbXBvbmVudHMvY29tbW9uL0J1dHRvbi52dWUiOwppbXBvcnQgSW5wdXRGaWVsZCBmcm9tICJAL2NvbXBvbmVudHMvY29tbW9uL0lucHV0RmllbGQudnVlIjsKCgpAQ29tcG9uZW50KHsKICBjb21wb25lbnRzOiB7CiAgICBOYXZCYXIsCiAgICBGb290ZXIsCiAgICBJbnB1dEZpZWxkLAogICAgQnV0dG9uCiAgfQp9KQpleHBvcnQgZGVmYXVsdCBjbGFzcyBUZWFtV2l6YXJkIGV4dGVuZHMgVnVlIHsKCiAgQENsdWJUZWFtTW9kdWxlLlN0YXRlKCdjbHViVGVhbScpCiAgcHJpdmF0ZSBzdG9yZWRDbHViVGVhbTogQ2x1YlRlYW1EdG8gfCB1bmRlZmluZWQ7CiAgcHJpdmF0ZSBjbHViVGVhbTogQ2x1YlRlYW1EdG8gfCB1bmRlZmluZWQ7CgogIHByaXZhdGUgbmFtZUlzVmFsaWQ6IGJvb2xlYW4gPSB0cnVlOwogIHByaXZhdGUgY29tcGV0aXRpb25Jc1ZhbGlkOiBib29sZWFuID0gdHJ1ZTsKICBwcml2YXRlIGNvdW50cnlJc1ZhbGlkOiBib29sZWFuID0gdHJ1ZTsKICBwcml2YXRlIGxhYmVsOiBzdHJpbmcgfCB1bmRlZmluZWQ7CgogIGNyZWF0ZWQoKSB7CiAgICBpZiAoIXRoaXMuc3RvcmVkQ2x1YlRlYW0pewogICAgICB0aGlzLmxhYmVsID0gJ0NyZWF0ZSB0ZWFtJzsKICAgICAgdGhpcy5jbHViVGVhbSA9IHsKICAgICAgICBpZDogdW5kZWZpbmVkLAogICAgICAgIG5hbWU6IHVuZGVmaW5lZCwKICAgICAgICBjb21wZXRpdGlvbjogdW5kZWZpbmVkLAogICAgICAgIGNvdW50cnk6IHVuZGVmaW5lZCwKICAgICAgICBwbGF5ZXJzOiBbXQogICAgICB9CiAgICB9IGVsc2UgewogICAgICB0aGlzLmNsdWJUZWFtID0gdGhpcy5zdG9yZWRDbHViVGVhbTsKICAgICAgdGhpcy5sYWJlbCA9ICdFZGl0IHRlYW0nOwogICAgfQogIH0KCiAgcHJpdmF0ZSB2YWxpZGF0ZUZvcm0oKTogYm9vbGVhbiB7CiAgICB0aGlzLm5hbWVJc1ZhbGlkID0gdGhpcy5jbHViVGVhbSEubmFtZT8ubGVuZ3RoICE+IDA7CiAgICB0aGlzLmNvbXBldGl0aW9uSXNWYWxpZCA9IHRoaXMuY2x1YlRlYW0hLmNvbXBldGl0aW9uPy5sZW5ndGggIT4gMDsKICAgIHRoaXMuY291bnRyeUlzVmFsaWQgPSB0aGlzLmNsdWJUZWFtIS5jb3VudHJ5Py5sZW5ndGggIT4gMDsKICAgIHJldHVybiB0aGlzLm5hbWVJc1ZhbGlkICYmIHRoaXMuY29tcGV0aXRpb25Jc1ZhbGlkICYmIHRoaXMuY291bnRyeUlzVmFsaWQ7CiAgfQoKICBzdWJtaXRGb3JtKHRvUGxheWVyV2l6YXJkOiBib29sZWFuKSB7CiAgICBjb25zdCBpc1ZhbGlkID0gdGhpcy52YWxpZGF0ZUZvcm0oKTsKICAgIGlmIChpc1ZhbGlkICYmIHRoaXMuY2x1YlRlYW0gJiYgdGhpcy5jbHViVGVhbS5pZCkgewogICAgICB0aGlzLnVwZGF0ZVRlYW0odGhpcy5jbHViVGVhbSwgdG9QbGF5ZXJXaXphcmQpOwogICAgfSBlbHNlIGlmIChpc1ZhbGlkICYmIHRoaXMuY2x1YlRlYW0gJiYgIXRoaXMuY2x1YlRlYW0uaWQpIHsKICAgICAgdGhpcy5jcmVhdGVUZWFtKHRoaXMuY2x1YlRlYW0sIHRvUGxheWVyV2l6YXJkKTsKICAgIH0KICB9CgogIHByaXZhdGUgY3JlYXRlVGVhbShjbHViVGVhbTogQ2x1YlRlYW1EdG8sIHRvUGxheWVyV2l6YXJkOiBib29sZWFuKXsKICAgIENsdWJUZWFtQmFja2VuZC5jcmVhdGVDbHViVGVhbShjbHViVGVhbSkKICAgICAgICAudG9Qcm9taXNlKCkKICAgICAgICAuZmluYWxseSgoKSA9PiB7CiAgICAgICAgICBpZiAodG9QbGF5ZXJXaXphcmQpIHsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9tYW5hZ2UtdGVhbS9wbGF5ZXInKTsKICAgICAgICAgICAgdGhpcy5ub3RpZnkoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMubmF2aWdhdGVCYWNrKCk7CiAgICAgICAgICAgIHRoaXMubm90aWZ5KCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgfQoKICBwcml2YXRlIHVwZGF0ZVRlYW0oY2x1YlRlYW06IENsdWJUZWFtRHRvLCB0b1BsYXllcldpemFyZDogYm9vbGVhbil7CiAgICBDbHViVGVhbUJhY2tlbmQudXBkYXRlQ2x1YlRlYW0oY2x1YlRlYW0pCiAgICAgICAgLnRvUHJvbWlzZSgpCiAgICAgICAgLmZpbmFsbHkoKCkgPT4gewogICAgICAgICAgaWYgKHRvUGxheWVyV2l6YXJkKSB7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvbWFuYWdlLXRlYW0vcGxheWVyJyk7CiAgICAgICAgICAgIHRoaXMubm90aWZ5KCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLm5hdmlnYXRlQmFjaygpOwogICAgICAgICAgICB0aGlzLm5vdGlmeSgpOwogICAgICAgICAgfQogICAgICAgIH0pOwogIH0KCiAgbmF2aWdhdGVCYWNrKCkgewogICAgdGhpcy4kcm91dGVyLnB1c2goJy9tYW5hZ2UtdGVhbScpOwogIH0KCiAgbm90aWZ5KCkgewogICAgdGhpcy4kbm90aWZ5KHsKICAgICAgZ3JvdXA6ICdhbGVydCcsCiAgICAgIHRpdGxlOiAnVGVhbSB1cGRhdGVkJwogICAgfSk7CiAgfQoKfQo="},{"version":3,"sources":["TeamWizard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"TeamWizard.vue","sourceRoot":"src/components/wizard","sourcesContent":["<template>\n    <div class=\"body\">\n        <nav-bar/>\n        <div class=\"box\">\n            <span class=\"tag is-info is-pulled-left\">\n                {{ label }}\n            </span>\n            <button class=\"delete is-pulled-right\"\n                    @click=\"navigateBack\">\n            </button>\n            <div class=\"container\">\n                <label  for=\"team-name\"\n                        class=\"has-text-weight-bold\">\n                        Team name\n                </label>\n                <input  id=\"team-name\"\n                        class=\"input is-primary\"\n                        type=\"text\"\n                        placeholder=\"Team name\"\n                        v-model=\"clubTeam.name\">\n                <div class=\"label\">\n                    <p v-if=\"!nameIsValid\"\n                       class=\"help is-danger has-text-weight-light\">\n                        Please enter your club name\n                    </p>\n                </div>\n                <label for=\"competition\"\n                       class=\"has-text-weight-bold\">\n                    Competition\n                </label>\n                <input id=\"competition\"\n                       class=\"input is-primary\"\n                       type=\"text\"\n                       placeholder=\"Competition\"\n                       v-model=\"clubTeam.competition\">\n                <div class=\"label\">\n                    <p v-if=\"!competitionIsValid\"\n                       class=\"help is-danger has-text-weight-light\">\n                        Please enter the name of your competition\n                    </p>\n                </div>\n                <label for=\"country\"\n                       class=\"has-text-weight-bold\">\n                    Country\n                </label>\n                <input id=\"country\"\n                       class=\"input is-primary\"\n                       type=\"text\"\n                       placeholder=\"Country\"\n                       v-model=\"clubTeam.country\">\n                <div class=\"label\">\n                    <p v-if=\"!countryIsValid\"\n                       class=\"help is-danger has-text-weight-light\">\n                        Please enter the country your team is in\n                    </p>\n                </div>\n                <div class=\"field is-grouped\">\n                    <Button :icon-data=\"{icon: 'far fa-save', position: 'left'}\"\n                            class-name=\"button is-centered is-primary is-outlined no-background\"\n                            text=\"Save\"\n                            @clicked=\"submitForm(false)\"/>\n                    <Button :icon-data=\"{icon: 'fas fa-angle-double-right', position: 'left'}\"\n                            class-name=\"button is-centered is-info is-outlined\"\n                            text=\"Add players\"\n                            @clicked=\"submitForm(true)\"/>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script lang=\"ts\">\nimport {Component, Vue} from 'vue-property-decorator';\nimport NavBar from \"@/components/navigation/NavBar.vue\";\nimport Footer from \"@/components/navigation/Footer.vue\";\nimport {namespace} from \"vuex-class\";\nimport ClubTeamBackend from \"@/backend/ClubTeamBackend\";\nconst ClubTeamModule = namespace(\"ClubTeamModule\");\nimport ClubTeamDto from \"@/data/dto/ClubTeamDto\";\nimport Button from \"@/components/common/Button.vue\";\nimport InputField from \"@/components/common/InputField.vue\";\n\n\n@Component({\n  components: {\n    NavBar,\n    Footer,\n    InputField,\n    Button\n  }\n})\nexport default class TeamWizard extends Vue {\n\n  @ClubTeamModule.State('clubTeam')\n  private storedClubTeam: ClubTeamDto | undefined;\n  private clubTeam: ClubTeamDto | undefined;\n\n  private nameIsValid: boolean = true;\n  private competitionIsValid: boolean = true;\n  private countryIsValid: boolean = true;\n  private label: string | undefined;\n\n  created() {\n    if (!this.storedClubTeam){\n      this.label = 'Create team';\n      this.clubTeam = {\n        id: undefined,\n        name: undefined,\n        competition: undefined,\n        country: undefined,\n        players: []\n      }\n    } else {\n      this.clubTeam = this.storedClubTeam;\n      this.label = 'Edit team';\n    }\n  }\n\n  private validateForm(): boolean {\n    this.nameIsValid = this.clubTeam!.name?.length !> 0;\n    this.competitionIsValid = this.clubTeam!.competition?.length !> 0;\n    this.countryIsValid = this.clubTeam!.country?.length !> 0;\n    return this.nameIsValid && this.competitionIsValid && this.countryIsValid;\n  }\n\n  submitForm(toPlayerWizard: boolean) {\n    const isValid = this.validateForm();\n    if (isValid && this.clubTeam && this.clubTeam.id) {\n      this.updateTeam(this.clubTeam, toPlayerWizard);\n    } else if (isValid && this.clubTeam && !this.clubTeam.id) {\n      this.createTeam(this.clubTeam, toPlayerWizard);\n    }\n  }\n\n  private createTeam(clubTeam: ClubTeamDto, toPlayerWizard: boolean){\n    ClubTeamBackend.createClubTeam(clubTeam)\n        .toPromise()\n        .finally(() => {\n          if (toPlayerWizard) {\n            this.$router.push('/manage-team/player');\n            this.notify();\n          } else {\n            this.navigateBack();\n            this.notify();\n          }\n        });\n  }\n\n  private updateTeam(clubTeam: ClubTeamDto, toPlayerWizard: boolean){\n    ClubTeamBackend.updateClubTeam(clubTeam)\n        .toPromise()\n        .finally(() => {\n          if (toPlayerWizard) {\n            this.$router.push('/manage-team/player');\n            this.notify();\n          } else {\n            this.navigateBack();\n            this.notify();\n          }\n        });\n  }\n\n  navigateBack() {\n    this.$router.push('/manage-team');\n  }\n\n  notify() {\n    this.$notify({\n      group: 'alert',\n      title: 'Team updated'\n    });\n  }\n\n}\n</script>\n\n<style scoped lang=\"scss\">\n\n.box {\n  margin: 20px;\n  background-color: #292929;\n}\n\n.container {\n  margin-top: 50px;\n}\n\n.field.is-grouped {\n  display: flex;\n  justify-content: flex-start;\n  margin-top: 40px;\n}\n\n .fa-save:before {\n   content: \"\\f0c7\";\n   margin-right: 8px;\n }\n\n .fa-angle-double-right:before {\n   content: \"\\f101\";\n   margin-left: 8px;\n }\n\n.is-primary.textarea, .is-primary.input {\n  border-color: turquoise;\n  margin-top: 10px;\n  color: #f5f5f5;\n  background-color: #292929;\n}\n\n::placeholder {\n  color: grey;\n}\n\n.has-text-weight-bold {\n  font-weight: 700 !important;\n  color: whitesmoke;\n}\n</style>\n"]}]}