{"remainingRequest":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/src/components/accessmanagement/Login.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/src/components/accessmanagement/Login.vue","mtime":1619621099603},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IHsgQ29tcG9uZW50LCBWdWUgfSBmcm9tICJ2dWUtcHJvcGVydHktZGVjb3JhdG9yIjsKaW1wb3J0IHsgbmFtZXNwYWNlIH0gZnJvbSAidnVleC1jbGFzcyI7CmltcG9ydCBJbnB1dEZpZWxkIGZyb20gIkAvY29tcG9uZW50cy9jb21tb24vSW5wdXRGaWVsZC52dWUiOwoKY29uc3QgQXV0aCA9IG5hbWVzcGFjZSgiQXV0aCIpOwoKQENvbXBvbmVudCh7CiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgSW5wdXRGaWVsZAogICAgfQp9KQpleHBvcnQgZGVmYXVsdCBjbGFzcyBMb2dpbiBleHRlbmRzIFZ1ZSB7CiAgICBwcml2YXRlIHVzZXIgPSB7CiAgICAgICAgdXNlcm5hbWU6ICcnLAogICAgICAgIHBhc3N3b3JkOiAnJwogICAgfTsKICAgIHByaXZhdGUgbG9hZGluZzogYm9vbGVhbiA9IGZhbHNlOwogICAgcHJpdmF0ZSBtZXNzYWdlOiBzdHJpbmcgPSAiIjsKICAgIHByaXZhdGUgdXNlcm5hbWVWYWxpZDogYm9vbGVhbiA9IHRydWU7CiAgICBwcml2YXRlIHBhc3N3b3JkVmFsaWQ6IGJvb2xlYW4gPSB0cnVlOwoKICAgIEBBdXRoLkdldHRlcignaXNMb2dnZWRJbicpCiAgICBwcml2YXRlIGlzTG9nZ2VkSW4hOiBib29sZWFuOwoKICAgIEBBdXRoLkFjdGlvbgogICAgcHJpdmF0ZSBsb2dpbiE6IChkYXRhOiBhbnkpID0+IFByb21pc2U8YW55PjsKCiAgICBjcmVhdGVkKCkgewogICAgICAgIGlmICh0aGlzLmlzTG9nZ2VkSW4pIHsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKTsKICAgICAgICAgICAgfQogICAgfQoKICAgIHByaXZhdGUgc2V0UGFzc3dvcmQocGFzc3dvcmQ6IHN0cmluZykgewogICAgICAgIHRoaXMudXNlci5wYXNzd29yZCA9IHBhc3N3b3JkOwogICAgfQoKICAgIHByaXZhdGUgc2V0VXNlcm5hbWUodXNlcm5hbWU6IHN0cmluZykgewogICAgICAgIHRoaXMudXNlci51c2VybmFtZSA9IHVzZXJuYW1lOwogICAgfQoKICAgIHByaXZhdGUgdmFsaWRhdGVGb3JtKCk6IGJvb2xlYW4gewogICAgICAgIHRoaXMubWVzc2FnZSA9ICcnOwogICAgICAgIHRoaXMudXNlcm5hbWVWYWxpZCA9IHRoaXMudXNlci51c2VybmFtZT8ubGVuZ3RoICE+IDA7CiAgICAgICAgdGhpcy5wYXNzd29yZFZhbGlkID0gdGhpcy51c2VyLnBhc3N3b3JkPy5sZW5ndGggIT4gMDsKICAgICAgICByZXR1cm4gdGhpcy51c2VybmFtZVZhbGlkICYmIHRoaXMucGFzc3dvcmRWYWxpZDsKICAgIH0KCiAgICBoYW5kbGVMb2dpbigpIHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgIGxldCBpc1ZhbGlkID0gdGhpcy52YWxpZGF0ZUZvcm0oKTsKICAgICAgICBpZiAoIWlzVmFsaWQpIHsKICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMudXNlci51c2VybmFtZSAmJiB0aGlzLnVzZXIucGFzc3dvcmQpIHsKICAgICAgICAgICAgdGhpcy5sb2dpbih0aGlzLnVzZXIpLnRoZW4oCiAgICAgICAgICAgICAgICAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi8iKTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAoZXJyb3IpID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IgPT09ICJCYWQgY3JlZGVudGlhbHMiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9ICJUaGUgdXNlZCBjb21iaW5hdGlvbiBvZiB1c2VybmFtZS9lbWFpbCBhbmQgcGFzc3dvcmQgZG9lcyBub3QgZXhpc3QiOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9ICJPb3BzLCBzb21ldGhpbmcgd2VudCB3cm9uZy4uIjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICk7CiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components/accessmanagement","sourcesContent":["<template>\n    <div class=\"columns is-vcentered\">\n        <div class=\"login column is-4 \">\n            <section class=\"section\">\n                <div class=\"4\">\n                    <div class=\"has-text-centered\">\n                        <img src=\"../../assets/images/logo_goalkeeper_white.png\" width=\"250\" alt=\"\">\n                    </div>\n                </div>\n                <div class=\"mt-6\">\n                    <p v-if=\"message.length > 0\"\n                       class=\"help is-danger\">\n                        {{ message }}\n                    </p>\n                    <p v-if=\"!usernameValid\"\n                       class=\"help is-danger\">\n                        Please enter an username or email\n                    </p>\n                    <InputField\n                        class-name=\"input is-primary\"\n                        type=\"text\"\n                        @inputChanged=\"setUsername\"\n                        place-holder=\"Username or email\"\n                        :iconData=\"{ icon: 'fas fa-user', position: 'left'}\"\n                        :input-value=\"user.username\"\n                        :auto-complete=\"'on'\">\n                    </InputField>\n                    <p\n                        v-if=\"!passwordValid\"\n                        class=\"help is-danger\">\n                        Please enter a password\n                    </p>\n                    <InputField\n                        class-name=\"input is-primary\"\n                        type=\"password\"\n                        @inputChanged=\"setPassword\"\n                        place-holder=\"password\"\n                        :iconData=\"{ icon: 'fa fa-key', position: 'left'}\"\n                        :input-value=\"user.password\">\n                    </InputField>\n                    <div class=\"has-text-centered\">\n                        <a class=\"button is-centered is-primary is-outlined\" @click=\"handleLogin\">Login</a>\n                    </div>\n                    <div class=\"has-text-centered\">\n                      <div>\n                        <router-link to=\"/signup\" exact>Sign up</router-link>\n                      </div>\n                      <div>\n                        <router-link to=\"/forgot-password\" exact>Forgot password</router-link>\n                      </div>\n                    </div>\n                </div>\n            </section>\n        </div>\n        <div id=\"particles-js\" class=\"interactive-bg column is-8\">\n        </div>\n    </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { namespace } from \"vuex-class\";\nimport InputField from \"@/components/common/InputField.vue\";\n\nconst Auth = namespace(\"Auth\");\n\n@Component({\n    components: {\n        InputField\n    }\n})\nexport default class Login extends Vue {\n    private user = {\n        username: '',\n        password: ''\n    };\n    private loading: boolean = false;\n    private message: string = \"\";\n    private usernameValid: boolean = true;\n    private passwordValid: boolean = true;\n\n    @Auth.Getter('isLoggedIn')\n    private isLoggedIn!: boolean;\n\n    @Auth.Action\n    private login!: (data: any) => Promise<any>;\n\n    created() {\n        if (this.isLoggedIn) {\n            this.$router.push('/');\n            }\n    }\n\n    private setPassword(password: string) {\n        this.user.password = password;\n    }\n\n    private setUsername(username: string) {\n        this.user.username = username;\n    }\n\n    private validateForm(): boolean {\n        this.message = '';\n        this.usernameValid = this.user.username?.length !> 0;\n        this.passwordValid = this.user.password?.length !> 0;\n        return this.usernameValid && this.passwordValid;\n    }\n\n    handleLogin() {\n        this.loading = true;\n        let isValid = this.validateForm();\n        if (!isValid) {\n            this.loading = false;\n            return;\n        }\n        if (this.user.username && this.user.password) {\n            this.login(this.user).then(\n                () => {\n                    this.$router.push(\"/\");\n                },\n                (error) => {\n                    this.loading = false;\n                    if (error === \"Bad credentials\") {\n                        this.message = \"The used combination of username/email and password does not exist\";\n                    } else {\n                        this.message = \"Oops, something went wrong..\";\n                    }\n                }\n            );\n        }\n    }\n}\n</script>\n\n<style scoped lang=\"scss\">\n\n.interactive-bg {\n    height: 100vh;\n    background-color: #00d1b2;\n    -webkit-box-shadow: inset 24px 4px 64px -24px rgba(71,71,71,1);\n    -moz-box-shadow: inset 24px 4px 64px -24px rgba(71,71,71,1);\n    box-shadow: inset 24px 4px 64px -24px rgba(71,71,71,1);\n    padding: 0;\n}\n@media (max-width: 769px) {\n    .interactive-bg{\n        display: none\n    }\n}\n\n\n.button {\n    margin-top: 20px;\n    margin-bottom: 20px;\n    min-width: 150px;\n}\n\n.columns{\n    margin: 0;\n    background-color: #1f1f1f;\n    min-height: 700px;\n}\n\n.section {\n\n}\n\n</style>\n"]}]}