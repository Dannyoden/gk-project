{"remainingRequest":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/src/components/dashboard/main/DashboardMain.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/src/components/dashboard/main/DashboardMain.vue","mtime":1618000833729},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IHtWdWV9IGZyb20gInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IiOwppbXBvcnQgQ29tcG9uZW50IGZyb20gInZ1ZS1jbGFzcy1jb21wb25lbnQiOwppbXBvcnQgTmF2QmFyIGZyb20gIkAvY29tcG9uZW50cy9uYXZpZ2F0aW9uL05hdkJhci52dWUiOwppbXBvcnQgSGVyb0Jhbm5lciBmcm9tICJAL2NvbXBvbmVudHMvY29tbW9uL0hlcm9CYW5uZXIudnVlIjsKaW1wb3J0IFNpZGVNZW51IGZyb20gIkAvY29tcG9uZW50cy9uYXZpZ2F0aW9uL0Ryb3Bkb3duTWVudS52dWUiOwppbXBvcnQgVGFibGUgZnJvbSAiQC9jb21wb25lbnRzL2Rhc2hib2FyZC9tYWluL2NvbXBvbmVudHMvVGFibGUudnVlIjsKaW1wb3J0IERhc2hib2FyZEJhY2tlbmQgZnJvbSAiQC9iYWNrZW5kL0Rhc2hib2FyZEJhY2tlbmQiOwppbXBvcnQgUGxheWVyRGF0YUR0byBmcm9tICJAL2RhdGEvZHRvL1BsYXllckRhdGFEdG8iOwppbXBvcnQgRm9vdGVyIGZyb20gIkAvY29tcG9uZW50cy9uYXZpZ2F0aW9uL0Zvb3Rlci52dWUiOwppbXBvcnQgU3VtbWFyeVBhbmVsIGZyb20gIkAvY29tcG9uZW50cy9kYXNoYm9hcmQvbWFpbi9jb21wb25lbnRzL1N1bW1hcnlQYW5lbC52dWUiCmltcG9ydCBMaW5lQ2hhcnRQYW5lbCBmcm9tICJAL2NvbXBvbmVudHMvZGFzaGJvYXJkL21haW4vY29tcG9uZW50cy9MaW5lQ2hhcnRQYW5lbC52dWUiOwppbXBvcnQgVGVhbVN1bW1hcnlEYXRhRHRvIGZyb20gIkAvZGF0YS9kdG8vVGVhbVN1bW1hcnlEYXRhRHRvIjsKaW1wb3J0IExvYWRpbmdTcGlubmVyIGZyb20gIkAvY29tcG9uZW50cy9jb21tb24vTG9hZGluZ1NwaW5uZXIudnVlIjsKCmNvbnN0IE5PVF9WQUxVRVMgPSBbJ3RvdGFsU2Vzc2lvbnMnLCAnYXZnU2Vzc2lvbnMnLCAnc2Vzc2lvbnNQbGFubmVkJ107CgpAQ29tcG9uZW50KHsKICBjb21wb25lbnRzOiB7CiAgICBMb2FkaW5nU3Bpbm5lciwKICAgIEhlcm9CYW5uZXIsCiAgICBOYXZCYXIsCiAgICBTaWRlTWVudSwKICAgIFRhYmxlLAogICAgRm9vdGVyLAogICAgU3VtbWFyeVBhbmVsLAogICAgTGluZUNoYXJ0UGFuZWwKICB9Cn0pCmV4cG9ydCBkZWZhdWx0IGNsYXNzIERhc2hib2FyZE1haW4gZXh0ZW5kcyBWdWUgewoKICB0ZWFtU3VtbWFyeURhdGE6IFRlYW1TdW1tYXJ5RGF0YUR0byA9IG5ldyBUZWFtU3VtbWFyeURhdGFEdG8oKTsKICBjaGFydERhdGEgPSB7fTsKCiAgY3JlYXRlZCgpIHsKICAgdGhpcy5yZXRyaWV2ZVRlYW1PdmVydmlldygpOwogICB0aGlzLnJldHJpZXZlU3VtbWFyeSgpCiAgfQoKICByZXRyaWV2ZVRlYW1PdmVydmlldygpewogICAgbGV0IHBsYXllckRhdGFEdG9zOiBQbGF5ZXJEYXRhRHRvW10gPSBbXTsKICAgIERhc2hib2FyZEJhY2tlbmQucmV0cmlldmVUZWFtT3ZlcnZpZXdEYXRhKCkKICAgICAgICAuc3Vic2NyaWJlKAogICAgICAgICAgICAocGxheWVyRGF0YUNvbGxlY3Rpb246IFBsYXllckRhdGFEdG9bXSkgPT4gewogICAgICAgICAgICAgIHBsYXllckRhdGFDb2xsZWN0aW9uLmZvckVhY2gocGxheWVyRGF0YSA9PiB7CiAgICAgICAgICAgICAgICBwbGF5ZXJEYXRhRHRvcy5wdXNoKHBsYXllckRhdGEpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9LCAoZXJyb3I6IGFueSkgPT4gewogICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfSwgKCkgPT4gewogICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnRGFzaGJvYXJkTW9kdWxlL3NldENsdWJUZWFtT3ZlcnZpZXcnLCBwbGF5ZXJEYXRhRHRvcyk7CiAgICAgICAgICAgIH0KICAgICAgICApOwogIH0KCiAgcmV0cmlldmVTdW1tYXJ5KCkgewogICAgRGFzaGJvYXJkQmFja2VuZC5yZXRyaWV2ZVN1bW1hcnlEYXRhKCkKICAgICAgICAuc3Vic2NyaWJlKHRlYW1TdW1tYXJ5RGF0YSA9PiB7CiAgICAgICAgICB0aGlzLnRlYW1TdW1tYXJ5RGF0YSA9IHRlYW1TdW1tYXJ5RGF0YTsKICAgICAgICAgIGlmKHRlYW1TdW1tYXJ5RGF0YSkgewogICAgICAgICAgICB0aGlzLmNoYXJ0RGF0YSA9IHRoaXMuZ2V0Q2hhcnREYXRhKHRlYW1TdW1tYXJ5RGF0YSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgfQoKICBnZXRDaGFydERhdGEodGVhbVN1bW1hcnlEYXRhOiBUZWFtU3VtbWFyeURhdGFEdG8pIHsKICAgIHJldHVybiB7CiAgICAgIGxhYmVsczogWyczIHdlZWtzIGFnbycsICczIHdlZWtzIGFnbycsICcyIHdlZWtzIGFnbycsICdMYXN0IDcgZGF5cyddLAogICAgICBkYXRhc2V0czogWyB7CiAgICAgICAgbGFiZWw6ICdTZXNzaW9ucyBwZXIgd2VlaycsCiAgICAgICAgYm9yZGVyQ29sb3I6ICcjNTBmZmU1JywKICAgICAgICBmaWxsOiBmYWxzZSwKICAgICAgICBkYXRhOiB0ZWFtU3VtbWFyeURhdGEuc3VtbWFyeURhdGEhLmZpbHRlcihzID0+ICFOT1RfVkFMVUVTLmluY2x1ZGVzKHMubGFiZWwhKSkubWFwKHMgPT4gcy52YWx1ZSkKICAgICAgICB9CiAgICAgIF0KICAgIH0KICB9Cn0KCg=="},{"version":3,"sources":["DashboardMain.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DashboardMain.vue","sourceRoot":"src/components/dashboard/main","sourcesContent":["<template>\n  <div class=\"page-wrapper\">\n    <LoadingSpinner/>\n    <nav-bar/>\n    <HeroBanner label=\"Dashboard\"/>\n    <div class=\"columns\">\n      <SideMenu/>\n      <div class=\"column\">\n        <SummaryPanel v-if=\"teamSummaryData.summaryData\" :team-summary-data=\"teamSummaryData\"/>\n        <LineChartPanel v-if=\"chartData.datasets\" :chart-data=\"chartData\"/>\n        <Table/>\n      </div>\n    </div>\n    <Footer/>\n  </div>\n</template>\n<script lang=\"ts\">\n\nimport {Vue} from \"vue-property-decorator\";\nimport Component from \"vue-class-component\";\nimport NavBar from \"@/components/navigation/NavBar.vue\";\nimport HeroBanner from \"@/components/common/HeroBanner.vue\";\nimport SideMenu from \"@/components/navigation/DropdownMenu.vue\";\nimport Table from \"@/components/dashboard/main/components/Table.vue\";\nimport DashboardBackend from \"@/backend/DashboardBackend\";\nimport PlayerDataDto from \"@/data/dto/PlayerDataDto\";\nimport Footer from \"@/components/navigation/Footer.vue\";\nimport SummaryPanel from \"@/components/dashboard/main/components/SummaryPanel.vue\"\nimport LineChartPanel from \"@/components/dashboard/main/components/LineChartPanel.vue\";\nimport TeamSummaryDataDto from \"@/data/dto/TeamSummaryDataDto\";\nimport LoadingSpinner from \"@/components/common/LoadingSpinner.vue\";\n\nconst NOT_VALUES = ['totalSessions', 'avgSessions', 'sessionsPlanned'];\n\n@Component({\n  components: {\n    LoadingSpinner,\n    HeroBanner,\n    NavBar,\n    SideMenu,\n    Table,\n    Footer,\n    SummaryPanel,\n    LineChartPanel\n  }\n})\nexport default class DashboardMain extends Vue {\n\n  teamSummaryData: TeamSummaryDataDto = new TeamSummaryDataDto();\n  chartData = {};\n\n  created() {\n   this.retrieveTeamOverview();\n   this.retrieveSummary()\n  }\n\n  retrieveTeamOverview(){\n    let playerDataDtos: PlayerDataDto[] = [];\n    DashboardBackend.retrieveTeamOverviewData()\n        .subscribe(\n            (playerDataCollection: PlayerDataDto[]) => {\n              playerDataCollection.forEach(playerData => {\n                playerDataDtos.push(playerData);\n              });\n            }, (error: any) => {\n              console.error(error);\n              return;\n            }, () => {\n              this.$store.commit('DashboardModule/setClubTeamOverview', playerDataDtos);\n            }\n        );\n  }\n\n  retrieveSummary() {\n    DashboardBackend.retrieveSummaryData()\n        .subscribe(teamSummaryData => {\n          this.teamSummaryData = teamSummaryData;\n          if(teamSummaryData) {\n            this.chartData = this.getChartData(teamSummaryData);\n          }\n        });\n  }\n\n  getChartData(teamSummaryData: TeamSummaryDataDto) {\n    return {\n      labels: ['3 weeks ago', '3 weeks ago', '2 weeks ago', 'Last 7 days'],\n      datasets: [ {\n        label: 'Sessions per week',\n        borderColor: '#50ffe5',\n        fill: false,\n        data: teamSummaryData.summaryData!.filter(s => !NOT_VALUES.includes(s.label!)).map(s => s.value)\n        }\n      ]\n    }\n  }\n}\n\n</script>\n\n<style scoped lang=\"scss\">\n\n.page-wrapper {\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n}\n</style>\n"]}]}