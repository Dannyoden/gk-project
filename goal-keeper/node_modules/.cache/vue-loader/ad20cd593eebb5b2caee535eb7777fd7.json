{"remainingRequest":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/src/components/accessmanagement/Login.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/src/components/accessmanagement/Login.vue","mtime":1618417244922},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQgeyBDb21wb25lbnQsIFZ1ZSB9IGZyb20gInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IiOwppbXBvcnQgeyBuYW1lc3BhY2UgfSBmcm9tICJ2dWV4LWNsYXNzIjsKaW1wb3J0IElucHV0RmllbGQgZnJvbSAiQC9jb21wb25lbnRzL2NvbW1vbi9JbnB1dEZpZWxkLnZ1ZSI7Cgpjb25zdCBBdXRoID0gbmFtZXNwYWNlKCJBdXRoIik7CgpAQ29tcG9uZW50KHsKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBJbnB1dEZpZWxkCiAgICB9Cn0pCmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvZ2luIGV4dGVuZHMgVnVlIHsKICAgIHByaXZhdGUgdXNlciA9IHsKICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgcGFzc3dvcmQ6ICcnCiAgICB9OwogICAgcHJpdmF0ZSBsb2FkaW5nOiBib29sZWFuID0gZmFsc2U7CiAgICBwcml2YXRlIG1lc3NhZ2U6IHN0cmluZyA9ICIiOwogICAgcHJpdmF0ZSB1c2VybmFtZVZhbGlkOiBib29sZWFuID0gdHJ1ZTsKICAgIHByaXZhdGUgcGFzc3dvcmRWYWxpZDogYm9vbGVhbiA9IHRydWU7CgogICAgQEF1dGguR2V0dGVyKCdpc0xvZ2dlZEluJykKICAgIHByaXZhdGUgaXNMb2dnZWRJbiE6IGJvb2xlYW47CgogICAgQEF1dGguQWN0aW9uCiAgICBwcml2YXRlIGxvZ2luITogKGRhdGE6IGFueSkgPT4gUHJvbWlzZTxhbnk+OwoKICAgIGNyZWF0ZWQoKSB7CiAgICAgICAgaWYgKHRoaXMuaXNMb2dnZWRJbikgewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpOwogICAgICAgICAgICB9CiAgICB9CgogICAgcHJpdmF0ZSBzZXRQYXNzd29yZChwYXNzd29yZDogc3RyaW5nKSB7CiAgICAgICAgdGhpcy51c2VyLnBhc3N3b3JkID0gcGFzc3dvcmQ7CiAgICB9CgogICAgcHJpdmF0ZSBzZXRVc2VybmFtZSh1c2VybmFtZTogc3RyaW5nKSB7CiAgICAgICAgdGhpcy51c2VyLnVzZXJuYW1lID0gdXNlcm5hbWU7CiAgICB9CgogICAgcHJpdmF0ZSB2YWxpZGF0ZUZvcm0oKTogYm9vbGVhbiB7CiAgICAgICAgdGhpcy5tZXNzYWdlID0gJyc7CiAgICAgICAgdGhpcy51c2VybmFtZVZhbGlkID0gdGhpcy51c2VyLnVzZXJuYW1lPy5sZW5ndGggIT4gMDsKICAgICAgICB0aGlzLnBhc3N3b3JkVmFsaWQgPSB0aGlzLnVzZXIucGFzc3dvcmQ/Lmxlbmd0aCAhPiAwOwogICAgICAgIHJldHVybiB0aGlzLnVzZXJuYW1lVmFsaWQgJiYgdGhpcy5wYXNzd29yZFZhbGlkOwogICAgfQoKICAgIGhhbmRsZUxvZ2luKCkgewogICAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICAgbGV0IGlzVmFsaWQgPSB0aGlzLnZhbGlkYXRlRm9ybSgpOwogICAgICAgIGlmICghaXNWYWxpZCkgewogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy51c2VyLnVzZXJuYW1lICYmIHRoaXMudXNlci5wYXNzd29yZCkgewogICAgICAgICAgICB0aGlzLmxvZ2luKHRoaXMudXNlcikudGhlbigKICAgICAgICAgICAgICAgICgpID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiLyIpOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIChlcnJvcikgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIGlmIChlcnJvciA9PT0gIkJhZCBjcmVkZW50aWFscyIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gIlRoZSB1c2VkIGNvbWJpbmF0aW9uIG9mIHVzZXJuYW1lL2VtYWlsIGFuZCBwYXNzd29yZCBkb2VzIG5vdCBleGlzdCI7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gIk9vcHMsIHNvbWV0aGluZyB3ZW50IHdyb25nLi4iOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgKTsKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components/accessmanagement","sourcesContent":["<template>\n    <div class=\"columns is-vcentered\">\n        <div class=\"login column is-4 \">\n            <section class=\"section\">\n                <div class=\"4\">\n                    <div class=\"has-text-centered\">\n                        <img src=\"../../assets/images/logo_goalkeeper_white.png\" width=\"250\" alt=\"\">\n                    </div>\n                </div>\n                <div class=\"mt-6\">\n                    <p v-if=\"message.length > 0\"\n                       class=\"help is-danger\">\n                        {{ message }}\n                    </p>\n                    <p v-if=\"!usernameValid\"\n                       class=\"help is-danger\">\n                        Please enter an username or email\n                    </p>\n                    <InputField\n                        class-name=\"input is-primary\"\n                        type=\"text\"\n                        @inputChanged=\"setUsername\"\n                        place-holder=\"Username or email\"\n                        :iconData=\"{ icon: 'fas fa-user', position: 'left'}\"\n                        :input-value=\"user.username\">\n                    </InputField>\n                    <p\n                        v-if=\"!passwordValid\"\n                        class=\"help is-danger\">\n                        Please enter a password\n                    </p>\n                    <InputField\n                        class-name=\"input is-primary\"\n                        type=\"password\"\n                        @inputChanged=\"setPassword\"\n                        place-holder=\"password\"\n                        :iconData=\"{ icon: 'fa fa-key', position: 'left'}\"\n                        :input-value=\"user.password\">\n                    </InputField>\n                    <div class=\"has-text-centered\">\n                        <a class=\"button is-centered is-primary is-outlined\" @click=\"handleLogin\">Login</a>\n                    </div>\n                    <div class=\"has-text-centered\">\n                      <div>\n                        <router-link to=\"/signup\" exact>Sign up</router-link>\n                      </div>\n                      <div>\n                        <router-link to=\"/forgot-password\" exact>Forgot password</router-link>\n                      </div>\n                    </div>\n                </div>\n            </section>\n        </div>\n        <div id=\"particles-js\" class=\"interactive-bg column is-8\">\n        </div>\n    </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { namespace } from \"vuex-class\";\nimport InputField from \"@/components/common/InputField.vue\";\n\nconst Auth = namespace(\"Auth\");\n\n@Component({\n    components: {\n        InputField\n    }\n})\nexport default class Login extends Vue {\n    private user = {\n        username: '',\n        password: ''\n    };\n    private loading: boolean = false;\n    private message: string = \"\";\n    private usernameValid: boolean = true;\n    private passwordValid: boolean = true;\n\n    @Auth.Getter('isLoggedIn')\n    private isLoggedIn!: boolean;\n\n    @Auth.Action\n    private login!: (data: any) => Promise<any>;\n\n    created() {\n        if (this.isLoggedIn) {\n            this.$router.push('/');\n            }\n    }\n\n    private setPassword(password: string) {\n        this.user.password = password;\n    }\n\n    private setUsername(username: string) {\n        this.user.username = username;\n    }\n\n    private validateForm(): boolean {\n        this.message = '';\n        this.usernameValid = this.user.username?.length !> 0;\n        this.passwordValid = this.user.password?.length !> 0;\n        return this.usernameValid && this.passwordValid;\n    }\n\n    handleLogin() {\n        this.loading = true;\n        let isValid = this.validateForm();\n        if (!isValid) {\n            this.loading = false;\n            return;\n        }\n        if (this.user.username && this.user.password) {\n            this.login(this.user).then(\n                () => {\n                    this.$router.push(\"/\");\n                },\n                (error) => {\n                    this.loading = false;\n                    if (error === \"Bad credentials\") {\n                        this.message = \"The used combination of username/email and password does not exist\";\n                    } else {\n                        this.message = \"Oops, something went wrong..\";\n                    }\n                }\n            );\n        }\n    }\n}\n</script>\n\n<style scoped lang=\"scss\">\n\n.interactive-bg {\n    height: 100vh;\n    background-color: #00d1b2;\n    -webkit-box-shadow: inset 24px 4px 64px -24px rgba(71,71,71,1);\n    -moz-box-shadow: inset 24px 4px 64px -24px rgba(71,71,71,1);\n    box-shadow: inset 24px 4px 64px -24px rgba(71,71,71,1);\n    padding: 0;\n}\n@media (max-width: 769px) {\n    .interactive-bg{\n        display: none\n    }\n}\n\n\n.button {\n    margin-top: 20px;\n    margin-bottom: 20px;\n    min-width: 150px;\n}\n\n.columns{\n    margin: 0;\n    background-color: #1f1f1f;\n    min-height: 700px;\n}\n\n.section {\n\n}\n\n</style>\n"]}]}