{"remainingRequest":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/src/components/sessions/game/SessionGameConsole.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/src/components/sessions/game/SessionGameConsole.vue","mtime":1618386502576},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQge0NvbXBvbmVudCwgVnVlLCBQcm9wLCBFbWl0fSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJzsKaW1wb3J0IE5vU2xlZXAgZnJvbSAnbm9zbGVlcC5qcyc7CgpAQ29tcG9uZW50CmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlc3Npb25HYW1lQ29uc29sZSBleHRlbmRzIFZ1ZSB7CiAgICBAUHJvcCgpIHByaXZhdGUgdGltZUluTWludXRlcyE6IG51bWJlcjsKICAgIEBQcm9wKCkgcHJpdmF0ZSBmaXJzdFRlYW1TY29yZSE6IG51bWJlcjsKICAgIEBQcm9wKCkgcHJpdmF0ZSBzZWNvbmRUZWFtU2NvcmUhOiBudW1iZXI7CgogICAgcHJpdmF0ZSByZWFkb25seSBGSVJTVF9URUFNID0gJ1RlYW0gT25lJzsKICAgIHByaXZhdGUgcmVhZG9ubHkgU0VDT05EX1RFQU0gPSAnVGVhbSBUd28nOwoKICAgIHNlY29uZHM6IG51bWJlciA9IDA7CiAgICBtaW51dGVzOiBudW1iZXIgPSB0aGlzLnRpbWVJbk1pbnV0ZXM7CiAgICBtaWxsaVNlY29uZHM6IG51bWJlciA9IDA7CiAgICB0aW1lcklzQWN0aXZlOiBib29sZWFuID0gZmFsc2U7CiAgICB0aW1lcjogbnVtYmVyIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkOwogICAgYnV0dG9uTWVzc2FnZTogc3RyaW5nID0gU2Vzc2lvbkdhbWVDb25zb2xlLlNUQVJUX01FU1NBR0U7CiAgICBub1NsZWVwID0gbmV3IE5vU2xlZXAoKTsKCiAgICBzdGF0aWMgU1RBUlRfTUVTU0FHRSA9ICdTdGFydCc7CiAgICBzdGF0aWMgUEFVU0VfTUVTU0FHRSA9ICdQYXVzZSc7CiAgICBzdGF0aWMgRklOSVNIX1NFU1NJT05fTUVTU0FHRSA9ICdGaW5pc2gnOwoKICAgIEBFbWl0KCdzaG93LWZpbmlzaC1nYW1lLXBvcC11cCcpCiAgICBzaG93RmluaXNoR2FtZVBvcFVwKCkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGdldCBnYW1lSXNGaW5pc2hlZCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5taW51dGVzID09PSAwICYmIHRoaXMuc2Vjb25kcyA9PT0gMCAmJiB0aGlzLm1pbGxpU2Vjb25kcyA9PT0gMDsKICAgIH0KCiAgICBnZXQgc2hvd01pbnV0ZXMoKTogbnVtYmVyIHsKICAgICAgICByZXR1cm4gdGhpcy5taW51dGVzOwogICAgfQoKICAgIGdldCBzaG93U2Vjb25kcygpOiBudW1iZXIgfCBzdHJpbmcgewogICAgICAgIHJldHVybiB0aGlzLnNlY29uZHMgPj0gMTAgPyB0aGlzLnNlY29uZHMgOiBTdHJpbmcodGhpcy5zZWNvbmRzKS5wYWRTdGFydCgyLCAnMCcpOwogICAgfQoKICAgIGdldCBzaG93TWlsbGlTZWNvbmRzKCk6IHN0cmluZyB7CiAgICAgICAgcmV0dXJuIHRoaXMubWlsbGlTZWNvbmRzID09PSAxMDAwID8KICAgICAgICAgICAgICAgICAgICBTdHJpbmcodGhpcy5taWxsaVNlY29uZHMpLnNsaWNlKDAsIC0yKSA6CiAgICAgICAgICAgICAgICAgICAgdGhpcy5taWxsaVNlY29uZHMgPj0gMTAgPwogICAgICAgICAgICAgICAgICAgICAgICBTdHJpbmcodGhpcy5taWxsaVNlY29uZHMgLyAxMCkucGFkU3RhcnQoMiwgJzAnKSA6CiAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyh0aGlzLm1pbGxpU2Vjb25kcykucGFkU3RhcnQoMiwgJzAnKTsKICAgIH0KCiAgICBwcml2YXRlIGhhbmRsZVRpbWVyKCkgewogICAgICAgIGlmICh0aGlzLmdhbWVJc0ZpbmlzaGVkKSB7CiAgICAgICAgICAgIHRoaXMuc2hvd0ZpbmlzaEdhbWVQb3BVcCgpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy50aW1lcklzQWN0aXZlKSB7CiAgICAgICAgICAgIHRoaXMuc3RvcFRpbWVyKCk7CiAgICAgICAgICAgIHRoaXMudGltZXJJc0FjdGl2ZSA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLmJ1dHRvbk1lc3NhZ2UgPSBTZXNzaW9uR2FtZUNvbnNvbGUuU1RBUlRfTUVTU0FHRTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLnN0YXJ0VGltZXIoKTsKICAgICAgICAgICAgdGhpcy50aW1lcklzQWN0aXZlID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy5idXR0b25NZXNzYWdlID0gU2Vzc2lvbkdhbWVDb25zb2xlLlBBVVNFX01FU1NBR0U7CiAgICAgICAgfQogICAgfQoKICAgIHByaXZhdGUgc3RhcnRUaW1lcigpIHsKICAgICAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgICBpZiAodGhpcy5taW51dGVzID09PSAwICYmIHRoaXMuc2Vjb25kcyA9PT0gMCAmJiB0aGlzLm1pbGxpU2Vjb25kcyA9PT0gMCkgewogICAgICAgICAgICAgICAgdGhpcy5zdG9wVGltZXIoKTsKICAgICAgICAgICAgICAgIHRoaXMuYnV0dG9uTWVzc2FnZSA9IFNlc3Npb25HYW1lQ29uc29sZS5GSU5JU0hfU0VTU0lPTl9NRVNTQUdFOwogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2Vjb25kcyA9PT0gMCAmJiB0aGlzLm1pbGxpU2Vjb25kcyA9PT0gMCkgewogICAgICAgICAgICAgICAgdGhpcy5taW51dGVzLS07CiAgICAgICAgICAgICAgICB0aGlzLnNlY29uZHMgPSA1OTsKICAgICAgICAgICAgICAgIHRoaXMubWlsbGlTZWNvbmRzID0gMTAwMDsKICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLm1pbGxpU2Vjb25kcyA9PT0gMCkgewogICAgICAgICAgICAgICAgdGhpcy5zZWNvbmRzLS07CiAgICAgICAgICAgICAgICB0aGlzLm1pbGxpU2Vjb25kcyA9IDEwMDA7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLm1pbGxpU2Vjb25kcyAtPSAxMDsKICAgICAgICAgICAgfQogICAgICAgIH0sIDEwKTsKICAgICAgICB0aGlzLm5vU2xlZXAhLmVuYWJsZSgpOwogICAgfQoKICAgIHByaXZhdGUgc3RvcFRpbWVyKCkgewogICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7CiAgICAgICAgdGhpcy5ub1NsZWVwLmRpc2FibGUoKTsKICAgIH0KCiAgICBiZWZvcmVEZXN0cm95KCkgewogICAgICAgIGlmICh0aGlzLnRpbWVyKSB7CiAgICAgICAgICAgIHRoaXMudGltZXIgPSB1bmRlZmluZWQ7CiAgICAgICAgfQogICAgICAgIHRoaXMubm9TbGVlcC5kaXNhYmxlKCk7CiAgICB9Cgp9Cg=="},{"version":3,"sources":["SessionGameConsole.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"SessionGameConsole.vue","sourceRoot":"src/components/sessions/game","sourcesContent":["<template>\n    <div class=\"box\">\n        <div class=\"columns is-multiline is-mobile\"\n             id=\"content\">\n            <div class=\"column is-one-quarter is-size-5 has-text-centered\">\n                <p class=\"team-name\"> {{ this.FIRST_TEAM }} </p>\n            </div>\n            <div class=\"column is-half\" id=\"time\">\n                <span> {{ this.showMinutes }} : </span>\n                <span> {{ this.showSeconds }} : </span>\n                <span> {{ this.showMilliSeconds }}</span>\n            </div>\n            <div class=\"column is-one-quarter is-size-5 has-text-centered\">\n                <p class=\"team-name\"> {{ this.SECOND_TEAM }} </p>\n            </div>\n            <div class=\"column is-one-quarter is-size-3\" id=\"score-1\">\n                <p> {{ this.firstTeamScore }}</p>\n            </div>\n            <div\n                class=\"column is-half\"\n                id=\"wrapper-start-button\">\n                <button\n                    class=\"button\"\n                    :class=\"{\n                        'is-danger is-outlined': !timerIsActive,\n                        'is-danger': timerIsActive && !gameIsFinished,\n                        'is-primary': gameIsFinished }\"\n                    id=\"start-button\"\n                    @click=\"this.handleTimer\">\n                    <span> {{ this.buttonMessage }} </span>\n                </button>\n            </div>\n            <div\n                class=\"column is-one-quarter is-size-3\" id=\"score-2\">\n                <p> {{ this.secondTeamScore }} </p>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script lang=\"ts\">\nimport {Component, Vue, Prop, Emit} from 'vue-property-decorator';\nimport NoSleep from 'nosleep.js';\n\n@Component\nexport default class SessionGameConsole extends Vue {\n    @Prop() private timeInMinutes!: number;\n    @Prop() private firstTeamScore!: number;\n    @Prop() private secondTeamScore!: number;\n\n    private readonly FIRST_TEAM = 'Team One';\n    private readonly SECOND_TEAM = 'Team Two';\n\n    seconds: number = 0;\n    minutes: number = this.timeInMinutes;\n    milliSeconds: number = 0;\n    timerIsActive: boolean = false;\n    timer: number | undefined = undefined;\n    buttonMessage: string = SessionGameConsole.START_MESSAGE;\n    noSleep = new NoSleep();\n\n    static START_MESSAGE = 'Start';\n    static PAUSE_MESSAGE = 'Pause';\n    static FINISH_SESSION_MESSAGE = 'Finish';\n\n    @Emit('show-finish-game-pop-up')\n    showFinishGamePopUp() {\n        return true;\n    }\n\n    get gameIsFinished() {\n        return this.minutes === 0 && this.seconds === 0 && this.milliSeconds === 0;\n    }\n\n    get showMinutes(): number {\n        return this.minutes;\n    }\n\n    get showSeconds(): number | string {\n        return this.seconds >= 10 ? this.seconds : String(this.seconds).padStart(2, '0');\n    }\n\n    get showMilliSeconds(): string {\n        return this.milliSeconds === 1000 ?\n                    String(this.milliSeconds).slice(0, -2) :\n                    this.milliSeconds >= 10 ?\n                        String(this.milliSeconds / 10).padStart(2, '0') :\n                        String(this.milliSeconds).padStart(2, '0');\n    }\n\n    private handleTimer() {\n        if (this.gameIsFinished) {\n            this.showFinishGamePopUp();\n            return;\n        }\n\n        if (this.timerIsActive) {\n            this.stopTimer();\n            this.timerIsActive = false;\n            this.buttonMessage = SessionGameConsole.START_MESSAGE;\n        } else {\n            this.startTimer();\n            this.timerIsActive = true;\n            this.buttonMessage = SessionGameConsole.PAUSE_MESSAGE;\n        }\n    }\n\n    private startTimer() {\n        this.timer = setInterval(() => {\n            if (this.minutes === 0 && this.seconds === 0 && this.milliSeconds === 0) {\n                this.stopTimer();\n                this.buttonMessage = SessionGameConsole.FINISH_SESSION_MESSAGE;\n            } else if (this.seconds === 0 && this.milliSeconds === 0) {\n                this.minutes--;\n                this.seconds = 59;\n                this.milliSeconds = 1000;\n            } else if (this.milliSeconds === 0) {\n                this.seconds--;\n                this.milliSeconds = 1000;\n            } else {\n                this.milliSeconds -= 10;\n            }\n        }, 10);\n        this.noSleep!.enable();\n    }\n\n    private stopTimer() {\n        clearInterval(this.timer);\n        this.noSleep.disable();\n    }\n\n    beforeDestroy() {\n        if (this.timer) {\n            this.timer = undefined;\n        }\n        this.noSleep.disable();\n    }\n\n}\n</script>\n\n<style scoped lang=\"scss\">\n\n#content > div {\n    display: flex;\n    justify-content: center;\n    align-self: center;\n\n}\n\n#content > div > span {\n    margin-left: 5px;\n}\n\n#wrapper-start-button #start-button {\n    width: 100%;\n}\n\n.team-name {\n  font-size: 1rem;\n}\n\n.p {\n}\n\n.box {\n  background-color: #041501;;\n  border-radius: 6px;\n  box-shadow: 0 0.5em 1em -0.125em rgb(10 10 10 / 10%), 0 0 0 1px rgb(10 10 10 / 2%);\n  color: #4a4a4a;\n  display: block;\n  padding: 1.25rem;\n}\n\n.is-size-3 {\n  font-size: 2.6rem !important;\n  color: #d43d3d;\n}\n\n.team-name {\n  font-size: 1rem;\n  color: whitesmoke;\n}\n\n#time {\n  color: yellow;\n  border: 1px solid #777777;\n}\n\n\n</style>\n"]}]}