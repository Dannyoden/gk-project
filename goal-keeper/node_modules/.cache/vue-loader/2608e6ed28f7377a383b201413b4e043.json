{"remainingRequest":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/src/components/accessmanagement/ForgotPassword.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/src/components/accessmanagement/ForgotPassword.vue","mtime":1619612940870},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQgeyBDb21wb25lbnQsIFZ1ZSB9IGZyb20gInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IiOwppbXBvcnQgQXV0aEJhY2tlbmQgZnJvbSAiQC9iYWNrZW5kL0F1dGhCYWNrZW5kIjsKaW1wb3J0IElucHV0RmllbGQgZnJvbSAiQC9jb21wb25lbnRzL2NvbW1vbi9JbnB1dEZpZWxkLnZ1ZSI7CmltcG9ydCBCdXR0b24gZnJvbSAiQC9jb21wb25lbnRzL2NvbW1vbi9CdXR0b24udnVlIjsKCkBDb21wb25lbnQoewogIGNvbXBvbmVudHM6IHsKICAgIElucHV0RmllbGQsCiAgICBCdXR0b24KICB9Cn0pCmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcmdvdFBhc3N3b3JkIGV4dGVuZHMgVnVlIHsKCiAgcHJpdmF0ZSBlbWFpbFZhbGlkOiBib29sZWFuID0gdHJ1ZTsKICBwcml2YXRlIHVzZXJOb3RGb3VuZDogYm9vbGVhbiA9IGZhbHNlOwogIHByaXZhdGUgdG9rZW5Jc1NlbnQ6IGJvb2xlYW4gPSBmYWxzZTsKICBwcml2YXRlIGVtYWlsOiBzdHJpbmcgPSAiIjsKCiAgcHJpdmF0ZSBzZXRFbWFpbChlbWFpbDogc3RyaW5nKSB7CiAgICB0aGlzLmVtYWlsID0gZW1haWw7CiAgfQoKICBoYW5kbGVQYXNzd29yZFJlc2V0KCkgewogICAgdGhpcy5lbWFpbFZhbGlkID0gdGhpcy5lbWFpbC5sZW5ndGggPiAwOwogICAgaWYgKHRoaXMuZW1haWxWYWxpZCkgewogICAgICBBdXRoQmFja2VuZC5yZXNldFBhc3N3b3JkKHRoaXMuZW1haWwpCiAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgIHRoaXMudG9rZW5Jc1NlbnQgPSB0cnVlCiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDAwKSB7CiAgICAgICAgICAgICAgdGhpcy51c2VyTm90Rm91bmQgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgIH0KICB9CgogIHByaXZhdGUgbmF2aWdhdGVUb0xvZ2luKCkgewogICAgdGhpcy4kcm91dGVyLnB1c2goIi9sb2dpbiIpOwogIH0KCn0K"},{"version":3,"sources":["ForgotPassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA","file":"ForgotPassword.vue","sourceRoot":"src/components/accessmanagement","sourcesContent":["<template>\n  <div class=\"columns is-vcentered\">\n    <div class=\"login column is-4 \">\n      <section class=\"section\">\n        <div class=\"4\">\n          <div class=\"has-text-centered\">\n            <img id=\"logo\" src=\"../../assets/images/logo_goalkeeper_white.png\" width=\"250\"  alt=\"\">\n          </div>\n        </div>\n        <div v-if=\"!tokenIsSent\" class=\"input-field\">\n          <p v-if=\"!emailValid\" class=\"help is-danger\">Please enter your email</p>\n          <p v-if=\"userNotFound\" class=\"help is-danger\">We haven't found a user with the given email</p>\n          <InputField id=\"email-input\" class-name=\"input is-primary\" type=\"text\" @inputChanged=\"setEmail\" place-holder=\"Please enter your email\" :input-value=\"email\"></InputField>\n          <div class=\"field is-grouped\">\n            <Button :icon-data=\"{icon: 'fas fa-angle-double-left', position: 'left'}\"\n                    class-name=\"button is-centered is-warning is-outlined\"\n                    @clicked=\"navigateToLogin\"/>\n            <Button class-name=\"button is-centered is-primary is-outlined\"\n                    text=\"Reset password\"\n                    @clicked=\"handlePasswordReset\"/>\n          </div>\n        </div>\n        <div v-if=\"tokenIsSent\">\n          <h2 class=\"subtitle\">We've successfully sent a reset link to your email adress. Please check your mail and follow the instructions</h2>\n          <div class=\"has-text-centered\">\n            <Button class-name=\"button is-centered is-primary is-outlined no-background\"\n                    text=\"Go to login\"\n                    @clicked=\"navigateToLogin\"/>\n          </div>\n        </div>\n      </section>\n    </div>\n    <div id=\"particles-js\" class=\"interactive-bg column is-8\">\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue } from \"vue-property-decorator\";\nimport AuthBackend from \"@/backend/AuthBackend\";\nimport InputField from \"@/components/common/InputField.vue\";\nimport Button from \"@/components/common/Button.vue\";\n\n@Component({\n  components: {\n    InputField,\n    Button\n  }\n})\nexport default class ForgotPassword extends Vue {\n\n  private emailValid: boolean = true;\n  private userNotFound: boolean = false;\n  private tokenIsSent: boolean = false;\n  private email: string = \"\";\n\n  private setEmail(email: string) {\n    this.email = email;\n  }\n\n  handlePasswordReset() {\n    this.emailValid = this.email.length > 0;\n    if (this.emailValid) {\n      AuthBackend.resetPassword(this.email)\n          .then(() => {\n            this.tokenIsSent = true\n          })\n          .catch(error => {\n            if (error.response.status === 400) {\n              this.userNotFound = true;\n            }\n          });\n    }\n  }\n\n  private navigateToLogin() {\n    this.$router.push(\"/login\");\n  }\n\n}\n</script>\n\n<style scoped lang=\"scss\">\n\n.interactive-bg {\n  height: 100vh;\n  background-color: #00d1b2;\n  -webkit-box-shadow: inset 24px 4px 64px -24px rgba(71,71,71,1);\n  -moz-box-shadow: inset 24px 4px 64px -24px rgba(71,71,71,1);\n  box-shadow: inset 24px 4px 64px -24px rgba(71,71,71,1);\n  padding: 0;\n}\n@media (max-width: 769px) {\n  .interactive-bg{\n    display: none\n  }\n  .input-field {\n    margin-top: 40px;\n  }\n\n}\n\n.columns{\n  margin: 0;\n}\n\n#logo {\n  margin-bottom: 30px;\n}\n\n#back-button {\n  margin-right: 10px;\n}\n\n#email-input {\n  margin-bottom: 40px;\n}\n\n.field.is-grouped {\n  display: flex;\n  justify-content: center;\n  margin-top: 40px;\n}\n\n.columns{\n  margin: 0;\n  background-color: #1f1f1f;\n  min-height: 700px;\n}\n\n.subtitle {\n  color: #ffffff;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.25;\n}\n\n\n</style>\n"]}]}