{"remainingRequest":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/src/components/wizard/PlayerWizard.vue?vue&type=style&index=0&id=79b3e279&scoped=true&lang=scss&","dependencies":[{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/src/components/wizard/PlayerWizard.vue","mtime":1627847928282},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouYm94IHsKICAgIG1hcmdpbjogMjBweDsKICAgIGJhY2tncm91bmQtY29sb3I6ICMyOTI5Mjk7Cn0KCi5jb250YWluZXIgewogICAgbWFyZ2luLXRvcDogNTBweDsKfQoKLmxhYmVsOm5vdCg6bGFzdC1jaGlsZCkgewogICAgbWFyZ2luLWJvdHRvbTogMC41ZW07CiAgICBjb2xvcjogd2hpdGVzbW9rZTsKfQoKLmZpZWxkLmlzLWdyb3VwZWQgewogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDsKICAgIG1hcmdpbi10b3A6IDQwcHg7Cn0KCi5zdGVwczpub3QoLmlzLWhvbGxvdykgLnN0ZXBzLXNlZ21lbnQuaXMtYWN0aXZlIC5zdGVwcy1tYXJrZXI6bm90KC5pcy1ob2xsb3cpIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICMwNmQxYjI7CiAgICBjb2xvcjogI2ZmZjsKfQoKLmZhLXNhdmU6YmVmb3JlIHsKICAgIGNvbnRlbnQ6ICJcZjBjNyI7CiAgICBtYXJnaW4tcmlnaHQ6IDhweDsKfQoKLmZhLWFuZ2xlLWRvdWJsZS1yaWdodDpiZWZvcmUgewogICAgY29udGVudDogIlxmMTAxIjsKICAgIG1hcmdpbi1sZWZ0OiA4cHg7Cn0KCi5zZWxlY3QuaXMtcHJpbWFyeSBzZWxlY3QgewogICAgYm9yZGVyLWNvbG9yOiB0dXJxdW9pc2U7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjYyNjI2OwogICAgY29sb3I6IHdoaXRlc21va2U7Cn0KCi5jb250cm9sLmhhcy1pY29ucy1yaWdodCAuaW5wdXQsIC5jb250cm9sLmhhcy1pY29ucy1yaWdodCAuc2VsZWN0IHNlbGVjdCB7CiAgICBwYWRkaW5nLXJpZ2h0OiAyLjVlbTsKICAgIGJhY2tncm91bmQtY29sb3I6ICMyNjI2MjY7CiAgICBjb2xvcjogd2hpdGVzbW9rZTsKfQoKOjpwbGFjZWhvbGRlciB7CiAgICBjb2xvcjogZ3JleTsKfQo="},{"version":3,"sources":["PlayerWizard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4RA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"PlayerWizard.vue","sourceRoot":"src/components/wizard","sourcesContent":["<template>\n    <div class=\"body\"\n        :key=\"componentKey\">\n        <nav-bar/>\n        <div class=\"box\">\n            <span class=\"tag is-info is-pulled-left\">{{ label }}</span>\n            <button class=\"delete is-pulled-right\"\n                    @click=\"navigateBack\">\n            </button>\n            <div class=\"container\">\n                <div class=\"field\">\n                    <label  class=\"label\"\n                            for=\"given-name\">\n                        Given name\n                    </label>\n                <div class=\"control has-icons-left has-icons-right\">\n                    <input  id=\"given-name\"\n                            class=\"input is-primary\"\n                            v-model=\"player.givenName\"\n                            type=\"text\"\n                            placeholder=\"enter a given name\"\n                            autocomplete=\"off\">\n                    <span class=\"icon is-small is-left\">\n                        <i class=\"fas fa-user\"></i>\n                    </span>\n                </div>\n                <p v-if=\"!givenNameValid\"\n                   class=\"help is-danger\">\n                    Please enter a valid given name\n                </p>\n            </div>\n            <div class=\"field\">\n                <label  class=\"label\"\n                        for=\"surname\">\n                    Surname\n                </label>\n                <div class=\"control has-icons-left has-icons-right\">\n                    <input  id=\"surname\"\n                            class=\"input is-primary\"\n                            v-model=\"player.surname\"\n                            type=\"text\"\n                            placeholder=\"enter a surname\"\n                            autocomplete=\"off\">\n                    <span class=\"icon is-small is-left\">\n                        <i class=\"fas fa-user\"></i>\n                    </span>\n                </div>\n                <p v-if=\"!lastnameValid\"\n                   class=\"help is-danger\">\n                    Please enter a valid surname\n                </p>\n            </div>\n            <div class=\"field\">\n                <label class=\"label\"\n                        for=\"shirt-number\">\n                    Shirt number\n                </label>\n                <div class=\"control has-icons-left has-icons-right\">\n                    <input  id=\"shirt-number\"\n                            class=\"input is-primary\"\n                            v-model=\"player.shirtNumber\"\n                            type=\"number\"\n                            placeholder=\"enter a shirt number\"\n                            autocomplete=\"off\">\n                    <span class=\"icon is-small is-left\">\n                        <i class=\"fas fa-tshirt\"></i>\n                    </span>\n                </div>\n                <p v-if=\"!shirtNumberIsValid\"\n                   class=\"help is-danger\">\n                    Please enter a shirt number between 1 and 99\n                </p>\n            </div>\n            <div class=\"field\">\n                <label class=\"label\"\n                        for=\"position\">\n                    Position\n                </label>\n                <div class=\"control\">\n                    <div class=\"select is-primary\">\n                        <select id=\"position\"\n                                v-model=\"player.position\">\n                            <option>GOALKEEPER</option>\n                            <option>DEFENDER</option>\n                            <option>MIDFIELDER</option>\n                            <option>STRIKER</option>\n                        </select>\n                    </div>\n                </div>\n                <p v-if=\"!positionValid\"\n                   class=\"help is-danger\">\n                    Please select a position\n                </p>\n            </div>\n            <div class=\"field\">\n                <label  class=\"label\"\n                        for=\"preferred-foot\">\n                    Preferred foot\n                </label>\n                <div class=\"control\">\n                    <div class=\"select is-primary\">\n                        <select id=\"preferred-foot\"\n                                v-model=\"player.preferredFoot\">\n                            <option>RIGHT</option>\n                            <option>LEFT</option>\n                            <option>BOTH</option>\n                        </select>\n                    </div>\n                </div>\n                <p v-if=\"!preferredFootValid\"\n                   class=\"help is-danger\">\n                    Please select the preferred foot\n                </p>\n            </div>\n            <date-picker\n                label=\"Date of birth\"\n                :date=\"date\"\n                @dateChanged=\"setDate\">\n            </date-picker>\n                <div class=\"field is-grouped\">\n                    <Button v-if=\"isEditPlayer\"\n                            :icon-data=\"{icon: 'fas fa-trash-alt', position: 'left'}\"\n                            class-name=\"button is-centered is-danger is-outlined\"\n                            @clicked=\"changeShowRemovePlayerPopUp\"/>\n                    <Button :icon-data=\"{icon: 'far fa-save', position: 'left'}\"\n                            class-name=\"button is-centered is-primary is-outlined no-background\"\n                            text=\"Save\"\n                            @clicked=\"submitForm(true)\"/>\n                    <Button :icon-data=\"{icon: 'fas fa-angle-double-right', position: 'right'}\"\n                            class-name=\"button is-centered is-info is-outlined\"\n                            text=\"Add more\"\n                            @clicked=\"submitForm(false)\"/>\n                </div>\n                <PopUp\n                    v-if=\"showRemovePlayerPopUp\"\n                    :pop-up-text=\"this.removePlayerMessage\"\n                    @decline=\"changeShowRemovePlayerPopUp\"\n                    @confirm=\"removePlayer\" />\n            </div>\n        </div>\n    </div>\n</template>\n\n<script lang=\"ts\">\nimport {Component, Vue} from 'vue-property-decorator';\nimport NavBar from \"@/components/navigation/NavBar.vue\";\nimport Footer from \"@/components/navigation/Footer.vue\";\nimport PlayerDto from \"@/data/dto/PlayerDto\";\nimport ClubTeamDto from \"@/data/dto/ClubTeamDto\";\nimport Button from \"@/components/common/Button.vue\";\nimport {namespace} from \"vuex-class\";\nimport PlayerBackend from \"@/backend/PlayerBackend\";\nimport DatePicker from \"@/components/wizard/utils/DatePicker.vue\";\nimport PopUp from '@/components/common/PopUp.vue';\nimport {findPlayerByIdAndTeam} from '@/components/wizard/utils/SessionWizardUtils';\n\nconst ClubTeamModule = namespace(\"ClubTeamModule\");\nconst ADD_PLAYER = 'Add player';\nconst EDIT_PLAYER = 'Edit player';\n\n@Component({\n    components: {\n        PopUp,\n        NavBar,\n        Footer,\n        DatePicker,\n        Button\n    }\n})\nexport default class PlayerWizard extends Vue {\n\n    @ClubTeamModule.State('clubTeam')\n    private clubTeam!: ClubTeamDto;\n\n    private componentKey = 0;\n    private label = ADD_PLAYER;\n    private givenNameValid = true;\n    private lastnameValid = true;\n    private preferredFootValid = true;\n    private shirtNumberIsValid = true;\n    private positionValid = true;\n    private showRemovePlayerPopUp = false;\n\n    player: PlayerDto = {\n        id: undefined,\n        givenName: undefined,\n        surname: undefined,\n        shirtNumber: undefined,\n        position: undefined,\n        preferredFoot: undefined,\n        dateOfBirth: undefined\n    }\n\n    created() {\n        const playerId = this.$route.params.playerId;\n        if (playerId && this.clubTeam.players) {\n            this.label = EDIT_PLAYER;\n            this.player = findPlayerByIdAndTeam(playerId, this.clubTeam.players)!;\n        }\n    }\n\n    get date() {\n        return this.player.dateOfBirth;\n    }\n\n    get isEditPlayer() {\n        return this.label === EDIT_PLAYER;\n    }\n\n    get isAddPlayer() {\n        return this.label === ADD_PLAYER;\n    }\n\n    private setDate(date: Date) {\n        this.player.dateOfBirth = date;\n    }\n\n    get removePlayerMessage(): string {\n        return 'Are you sure you want to delete ' + this.player.givenName + ' ' + this.player.surname + '?';\n    }\n\n    changeShowRemovePlayerPopUp() {\n        this.showRemovePlayerPopUp = !this.showRemovePlayerPopUp;\n    }\n\n    createEmptyPlayerWizard() {\n        this.componentKey += 1;\n        if (this.label === EDIT_PLAYER) {\n            this.label = ADD_PLAYER;\n        }\n        this.player = new PlayerDto();\n    }\n\n    private removePlayer() {\n        if (this.player) {\n            PlayerBackend.deletePlayer(this.player)\n                .subscribe(() => {\n                    this.navigateBack();\n                })\n        }\n    }\n\n    submitForm(navigateBack: Boolean) {\n        const isValid = this.validateForm();\n            if (isValid && this.player) {\n                PlayerBackend.upsertPlayer(this.player)\n                    .subscribe(() => {\n                        if (this.isEditPlayer) {\n                            this.$toasted.global.playerUpdatedToast({\n                                message: this.player.givenName + ' ' + this.player.surname\n                            });\n                        }\n                        if (this.isAddPlayer) {\n                            this.$toasted.global.playerAddedToast({\n                                message: this.player.givenName + ' ' + this.player.surname\n                            });\n                        }\n                        if (navigateBack) {\n                            this.navigateBack();\n                        } else {\n                            this.createEmptyPlayerWizard();\n                        }\n                    });\n            }\n    }\n\n    navigateBack() {\n        this.$router.push('/manage-team');\n    }\n\n    private validateForm(): boolean {\n        this.givenNameValid = this.player!.givenName?.length !> 0;\n        this.lastnameValid = this.player!.surname?.length !> 0;\n        this.shirtNumberIsValid = !this.player!.shirtNumber ? false : this.player.shirtNumber >= 1 && this.player.shirtNumber <= 99;\n        this.positionValid = this.player!.position?.length !> 0;\n        this.preferredFootValid = this.player!.preferredFoot?.length !> 0;\n        return this.givenNameValid && this.lastnameValid && this.shirtNumberIsValid && this.positionValid && this.preferredFootValid;\n    }\n\n}\n</script>\n\n<style scoped lang=\"scss\">\n\n.box {\n    margin: 20px;\n    background-color: #292929;\n}\n\n.container {\n    margin-top: 50px;\n}\n\n.label:not(:last-child) {\n    margin-bottom: 0.5em;\n    color: whitesmoke;\n}\n\n.field.is-grouped {\n    display: flex;\n    justify-content: flex-start;\n    margin-top: 40px;\n}\n\n.steps:not(.is-hollow) .steps-segment.is-active .steps-marker:not(.is-hollow) {\n    background-color: #06d1b2;\n    color: #fff;\n}\n\n.fa-save:before {\n    content: \"\\f0c7\";\n    margin-right: 8px;\n}\n\n.fa-angle-double-right:before {\n    content: \"\\f101\";\n    margin-left: 8px;\n}\n\n.select.is-primary select {\n    border-color: turquoise;\n    background-color: #262626;\n    color: whitesmoke;\n}\n\n.control.has-icons-right .input, .control.has-icons-right .select select {\n    padding-right: 2.5em;\n    background-color: #262626;\n    color: whitesmoke;\n}\n\n::placeholder {\n    color: grey;\n}\n</style>\n"]}]}