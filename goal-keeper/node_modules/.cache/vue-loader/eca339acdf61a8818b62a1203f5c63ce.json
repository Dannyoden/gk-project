{"remainingRequest":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/src/components/dashboard/main/DashboardMain.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/src/components/dashboard/main/DashboardMain.vue","mtime":1618171725982},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQge1Z1ZX0gZnJvbSAidnVlLXByb3BlcnR5LWRlY29yYXRvciI7CmltcG9ydCBDb21wb25lbnQgZnJvbSAidnVlLWNsYXNzLWNvbXBvbmVudCI7CmltcG9ydCBOYXZCYXIgZnJvbSAiQC9jb21wb25lbnRzL25hdmlnYXRpb24vTmF2QmFyLnZ1ZSI7CmltcG9ydCBIZXJvQmFubmVyIGZyb20gIkAvY29tcG9uZW50cy9jb21tb24vSGVyb0Jhbm5lci52dWUiOwppbXBvcnQgU2lkZU1lbnUgZnJvbSAiQC9jb21wb25lbnRzL25hdmlnYXRpb24vRHJvcGRvd25NZW51LnZ1ZSI7CmltcG9ydCBUYWJsZSBmcm9tICJAL2NvbXBvbmVudHMvZGFzaGJvYXJkL21haW4vY29tcG9uZW50cy9UYWJsZS52dWUiOwppbXBvcnQgRGFzaGJvYXJkQmFja2VuZCBmcm9tICJAL2JhY2tlbmQvRGFzaGJvYXJkQmFja2VuZCI7CmltcG9ydCBQbGF5ZXJEYXRhRHRvIGZyb20gIkAvZGF0YS9kdG8vUGxheWVyRGF0YUR0byI7CmltcG9ydCBGb290ZXIgZnJvbSAiQC9jb21wb25lbnRzL25hdmlnYXRpb24vRm9vdGVyLnZ1ZSI7CmltcG9ydCBTdW1tYXJ5UGFuZWwgZnJvbSAiQC9jb21wb25lbnRzL2Rhc2hib2FyZC9tYWluL2NvbXBvbmVudHMvU3VtbWFyeVBhbmVsLnZ1ZSIKaW1wb3J0IExpbmVDaGFydFBhbmVsIGZyb20gIkAvY29tcG9uZW50cy9kYXNoYm9hcmQvbWFpbi9jb21wb25lbnRzL0xpbmVDaGFydFBhbmVsLnZ1ZSI7CmltcG9ydCBUZWFtU3VtbWFyeURhdGFEdG8gZnJvbSAiQC9kYXRhL2R0by9UZWFtU3VtbWFyeURhdGFEdG8iOwppbXBvcnQgVnVlUHJvZ3Jlc3MgZnJvbSAndnVlLXByb2dyZXNzLXBhdGgnOwoKCgpjb25zdCBOT1RfVkFMVUVTID0gWyd0b3RhbFNlc3Npb25zJywgJ2F2Z1Nlc3Npb25zJywgJ3Nlc3Npb25zUGxhbm5lZCddOwoKQENvbXBvbmVudCh7CiAgY29tcG9uZW50czogewogICAgSGVyb0Jhbm5lciwKICAgIE5hdkJhciwKICAgIFNpZGVNZW51LAogICAgVGFibGUsCiAgICBGb290ZXIsCiAgICBTdW1tYXJ5UGFuZWwsCiAgICBMaW5lQ2hhcnRQYW5lbCwKICAgIFZ1ZVByb2dyZXNzCiAgfQp9KQpleHBvcnQgZGVmYXVsdCBjbGFzcyBEYXNoYm9hcmRNYWluIGV4dGVuZHMgVnVlIHsKCiAgdGVhbVN1bW1hcnlEYXRhOiBUZWFtU3VtbWFyeURhdGFEdG8gPSBuZXcgVGVhbVN1bW1hcnlEYXRhRHRvKCk7CiAgY2hhcnREYXRhID0ge307CgogIGNyZWF0ZWQoKSB7CiAgIHRoaXMucmV0cmlldmVUZWFtT3ZlcnZpZXcoKTsKICAgdGhpcy5yZXRyaWV2ZVN1bW1hcnkoKQogIH0KCiAgcmV0cmlldmVUZWFtT3ZlcnZpZXcoKXsKICAgIGxldCBwbGF5ZXJEYXRhRHRvczogUGxheWVyRGF0YUR0b1tdID0gW107CiAgICBEYXNoYm9hcmRCYWNrZW5kLnJldHJpZXZlVGVhbU92ZXJ2aWV3RGF0YSgpCiAgICAgICAgLnN1YnNjcmliZSgKICAgICAgICAgICAgKHBsYXllckRhdGFDb2xsZWN0aW9uOiBQbGF5ZXJEYXRhRHRvW10pID0+IHsKICAgICAgICAgICAgICBwbGF5ZXJEYXRhQ29sbGVjdGlvbi5mb3JFYWNoKHBsYXllckRhdGEgPT4gewogICAgICAgICAgICAgICAgcGxheWVyRGF0YUR0b3MucHVzaChwbGF5ZXJEYXRhKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSwgKGVycm9yOiBhbnkpID0+IHsKICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0sICgpID0+IHsKICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ0Rhc2hib2FyZE1vZHVsZS9zZXRDbHViVGVhbU92ZXJ2aWV3JywgcGxheWVyRGF0YUR0b3MpOwogICAgICAgICAgICB9CiAgICAgICAgKTsKICB9CgogIHJldHJpZXZlU3VtbWFyeSgpIHsKICAgIERhc2hib2FyZEJhY2tlbmQucmV0cmlldmVTdW1tYXJ5RGF0YSgpCiAgICAgICAgLnN1YnNjcmliZSh0ZWFtU3VtbWFyeURhdGEgPT4gewogICAgICAgICAgdGhpcy50ZWFtU3VtbWFyeURhdGEgPSB0ZWFtU3VtbWFyeURhdGE7CiAgICAgICAgICBpZih0ZWFtU3VtbWFyeURhdGEpIHsKICAgICAgICAgICAgdGhpcy5jaGFydERhdGEgPSB0aGlzLmdldENoYXJ0RGF0YSh0ZWFtU3VtbWFyeURhdGEpOwogICAgICAgICAgfQogICAgICAgIH0pOwogIH0KCiAgZ2V0Q2hhcnREYXRhKHRlYW1TdW1tYXJ5RGF0YTogVGVhbVN1bW1hcnlEYXRhRHRvKSB7CiAgICByZXR1cm4gewogICAgICBsYWJlbHM6IFsnMyB3ZWVrcyBhZ28nLCAnMyB3ZWVrcyBhZ28nLCAnMiB3ZWVrcyBhZ28nLCAnTGFzdCA3IGRheXMnXSwKICAgICAgZGF0YXNldHM6IFsgewogICAgICAgIGxhYmVsOiAnU2Vzc2lvbnMgcGVyIHdlZWsnLAogICAgICAgIGJvcmRlckNvbG9yOiAnIzUwZmZlNScsCiAgICAgICAgZmlsbDogZmFsc2UsCiAgICAgICAgZGF0YTogdGVhbVN1bW1hcnlEYXRhLnN1bW1hcnlEYXRhIS5maWx0ZXIocyA9PiAhTk9UX1ZBTFVFUy5pbmNsdWRlcyhzLmxhYmVsISkpLm1hcChzID0+IHMudmFsdWUpCiAgICAgICAgfQogICAgICBdCiAgICB9CiAgfQp9Cgo="},{"version":3,"sources":["DashboardMain.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DashboardMain.vue","sourceRoot":"src/components/dashboard/main","sourcesContent":["<template>\n  <div class=\"page-wrapper\">\n    <nav-bar/>\n    <HeroBanner label=\"Dashboard\"/>\n    <loading-progress\n        size=\"64\"\n        rotate\n        fillDuration=\"8\"\n        rotationDuration=\"1\"\n    />\n    <div class=\"columns\">\n      <SideMenu/>\n      <div class=\"column\">\n        <SummaryPanel v-if=\"teamSummaryData.summaryData\" :team-summary-data=\"teamSummaryData\"/>\n        <LineChartPanel v-if=\"chartData.datasets\" :chart-data=\"chartData\"/>\n        <Table/>\n      </div>\n    </div>\n    <Footer/>\n  </div>\n</template>\n<script lang=\"ts\">\n\nimport {Vue} from \"vue-property-decorator\";\nimport Component from \"vue-class-component\";\nimport NavBar from \"@/components/navigation/NavBar.vue\";\nimport HeroBanner from \"@/components/common/HeroBanner.vue\";\nimport SideMenu from \"@/components/navigation/DropdownMenu.vue\";\nimport Table from \"@/components/dashboard/main/components/Table.vue\";\nimport DashboardBackend from \"@/backend/DashboardBackend\";\nimport PlayerDataDto from \"@/data/dto/PlayerDataDto\";\nimport Footer from \"@/components/navigation/Footer.vue\";\nimport SummaryPanel from \"@/components/dashboard/main/components/SummaryPanel.vue\"\nimport LineChartPanel from \"@/components/dashboard/main/components/LineChartPanel.vue\";\nimport TeamSummaryDataDto from \"@/data/dto/TeamSummaryDataDto\";\nimport VueProgress from 'vue-progress-path';\n\n\n\nconst NOT_VALUES = ['totalSessions', 'avgSessions', 'sessionsPlanned'];\n\n@Component({\n  components: {\n    HeroBanner,\n    NavBar,\n    SideMenu,\n    Table,\n    Footer,\n    SummaryPanel,\n    LineChartPanel,\n    VueProgress\n  }\n})\nexport default class DashboardMain extends Vue {\n\n  teamSummaryData: TeamSummaryDataDto = new TeamSummaryDataDto();\n  chartData = {};\n\n  created() {\n   this.retrieveTeamOverview();\n   this.retrieveSummary()\n  }\n\n  retrieveTeamOverview(){\n    let playerDataDtos: PlayerDataDto[] = [];\n    DashboardBackend.retrieveTeamOverviewData()\n        .subscribe(\n            (playerDataCollection: PlayerDataDto[]) => {\n              playerDataCollection.forEach(playerData => {\n                playerDataDtos.push(playerData);\n              });\n            }, (error: any) => {\n              console.error(error);\n              return;\n            }, () => {\n              this.$store.commit('DashboardModule/setClubTeamOverview', playerDataDtos);\n            }\n        );\n  }\n\n  retrieveSummary() {\n    DashboardBackend.retrieveSummaryData()\n        .subscribe(teamSummaryData => {\n          this.teamSummaryData = teamSummaryData;\n          if(teamSummaryData) {\n            this.chartData = this.getChartData(teamSummaryData);\n          }\n        });\n  }\n\n  getChartData(teamSummaryData: TeamSummaryDataDto) {\n    return {\n      labels: ['3 weeks ago', '3 weeks ago', '2 weeks ago', 'Last 7 days'],\n      datasets: [ {\n        label: 'Sessions per week',\n        borderColor: '#50ffe5',\n        fill: false,\n        data: teamSummaryData.summaryData!.filter(s => !NOT_VALUES.includes(s.label!)).map(s => s.value)\n        }\n      ]\n    }\n  }\n}\n\n</script>\n\n<style scoped lang=\"scss\">\n\n.page-wrapper {\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n}\n</style>\n"]}]}