{"remainingRequest":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/thread-loader/dist/cjs.js!/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/babel-loader/lib/index.js!/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/ts-loader/index.js??ref--14-3!/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/src/components/accessmanagement/Login.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/src/components/accessmanagement/Login.vue","mtime":1619621099603},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvZGFubnkvZnVsbHN0YWNrLXByb2plY3RzL2dvYWwta2VlcGVyLXByb2plY3QvZ29hbC1rZWVwZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMvZGFubnkvZnVsbHN0YWNrLXByb2plY3RzL2dvYWwta2VlcGVyLXByb2plY3QvZ29hbC1rZWVwZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICIvVXNlcnMvZGFubnkvZnVsbHN0YWNrLXByb2plY3RzL2dvYWwta2VlcGVyLXByb2plY3QvZ29hbC1rZWVwZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICIvVXNlcnMvZGFubnkvZnVsbHN0YWNrLXByb2plY3RzL2dvYWwta2VlcGVyLXByb2plY3QvZ29hbC1rZWVwZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyIjsKaW1wb3J0IHsgX19kZWNvcmF0ZSwgX19tZXRhZGF0YSB9IGZyb20gInRzbGliIjsKaW1wb3J0IHsgQ29tcG9uZW50LCBWdWUgfSBmcm9tICJ2dWUtcHJvcGVydHktZGVjb3JhdG9yIjsKaW1wb3J0IHsgbmFtZXNwYWNlIH0gZnJvbSAidnVleC1jbGFzcyI7CmltcG9ydCBJbnB1dEZpZWxkIGZyb20gIkAvY29tcG9uZW50cy9jb21tb24vSW5wdXRGaWVsZC52dWUiOwp2YXIgQXV0aCA9IG5hbWVzcGFjZSgiQXV0aCIpOwoKdmFyIExvZ2luID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfVnVlKSB7CiAgX2luaGVyaXRzKExvZ2luLCBfVnVlKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihMb2dpbik7CgogIGZ1bmN0aW9uIExvZ2luKCkgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMb2dpbik7CgogICAgX3RoaXMgPSBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIF90aGlzLnVzZXIgPSB7CiAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgcGFzc3dvcmQ6ICcnCiAgICB9OwogICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgX3RoaXMubWVzc2FnZSA9ICIiOwogICAgX3RoaXMudXNlcm5hbWVWYWxpZCA9IHRydWU7CiAgICBfdGhpcy5wYXNzd29yZFZhbGlkID0gdHJ1ZTsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhMb2dpbiwgW3sKICAgIGtleTogImNyZWF0ZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICAgIGlmICh0aGlzLmlzTG9nZ2VkSW4pIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0UGFzc3dvcmQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldFBhc3N3b3JkKHBhc3N3b3JkKSB7CiAgICAgIHRoaXMudXNlci5wYXNzd29yZCA9IHBhc3N3b3JkOwogICAgfQogIH0sIHsKICAgIGtleTogInNldFVzZXJuYW1lIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRVc2VybmFtZSh1c2VybmFtZSkgewogICAgICB0aGlzLnVzZXIudXNlcm5hbWUgPSB1c2VybmFtZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ2YWxpZGF0ZUZvcm0iLAogICAgdmFsdWU6IGZ1bmN0aW9uIHZhbGlkYXRlRm9ybSgpIHsKICAgICAgdmFyIF90aGlzJHVzZXIkdXNlcm5hbWUsIF90aGlzJHVzZXIkcGFzc3dvcmQ7CgogICAgICB0aGlzLm1lc3NhZ2UgPSAnJzsKICAgICAgdGhpcy51c2VybmFtZVZhbGlkID0gKChfdGhpcyR1c2VyJHVzZXJuYW1lID0gdGhpcy51c2VyLnVzZXJuYW1lKSA9PT0gbnVsbCB8fCBfdGhpcyR1c2VyJHVzZXJuYW1lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyR1c2VyJHVzZXJuYW1lLmxlbmd0aCkgPiAwOwogICAgICB0aGlzLnBhc3N3b3JkVmFsaWQgPSAoKF90aGlzJHVzZXIkcGFzc3dvcmQgPSB0aGlzLnVzZXIucGFzc3dvcmQpID09PSBudWxsIHx8IF90aGlzJHVzZXIkcGFzc3dvcmQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHVzZXIkcGFzc3dvcmQubGVuZ3RoKSA+IDA7CiAgICAgIHJldHVybiB0aGlzLnVzZXJuYW1lVmFsaWQgJiYgdGhpcy5wYXNzd29yZFZhbGlkOwogICAgfQogIH0sIHsKICAgIGtleTogImhhbmRsZUxvZ2luIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVMb2dpbigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB2YXIgaXNWYWxpZCA9IHRoaXMudmFsaWRhdGVGb3JtKCk7CgogICAgICBpZiAoIWlzVmFsaWQpIHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnVzZXIudXNlcm5hbWUgJiYgdGhpcy51c2VyLnBhc3N3b3JkKSB7CiAgICAgICAgdGhpcy5sb2dpbih0aGlzLnVzZXIpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCgiLyIpOwogICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgX3RoaXMyLmxvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICBpZiAoZXJyb3IgPT09ICJCYWQgY3JlZGVudGlhbHMiKSB7CiAgICAgICAgICAgIF90aGlzMi5tZXNzYWdlID0gIlRoZSB1c2VkIGNvbWJpbmF0aW9uIG9mIHVzZXJuYW1lL2VtYWlsIGFuZCBwYXNzd29yZCBkb2VzIG5vdCBleGlzdCI7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczIubWVzc2FnZSA9ICJPb3BzLCBzb21ldGhpbmcgd2VudCB3cm9uZy4uIjsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH1dKTsKCiAgcmV0dXJuIExvZ2luOwp9KFZ1ZSk7CgpfX2RlY29yYXRlKFtBdXRoLkdldHRlcignaXNMb2dnZWRJbicpLCBfX21ldGFkYXRhKCJkZXNpZ246dHlwZSIsIEJvb2xlYW4pXSwgTG9naW4ucHJvdG90eXBlLCAiaXNMb2dnZWRJbiIsIHZvaWQgMCk7CgpfX2RlY29yYXRlKFtBdXRoLkFjdGlvbiwgX19tZXRhZGF0YSgiZGVzaWduOnR5cGUiLCBGdW5jdGlvbildLCBMb2dpbi5wcm90b3R5cGUsICJsb2dpbiIsIHZvaWQgMCk7CgpMb2dpbiA9IF9fZGVjb3JhdGUoW0NvbXBvbmVudCh7CiAgY29tcG9uZW50czogewogICAgSW5wdXRGaWVsZDogSW5wdXRGaWVsZAogIH0KfSldLCBMb2dpbik7CmV4cG9ydCBkZWZhdWx0IExvZ2luOw=="},{"version":3,"sources":["/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/src/components/accessmanagement/Login.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;;;;AA4DA,SAAS,SAAT,EAAoB,GAApB,QAA+B,wBAA/B;AACA,SAAS,SAAT,QAA0B,YAA1B;AACA,OAAO,UAAP,MAAuB,oCAAvB;AAEA,IAAM,IAAI,GAAG,SAAS,CAAC,MAAD,CAAtB;;AAOA,IAAqB,KAArB;AAAA;;AAAA;;AAAA,mBAAA;AAAA;;AAAA;;;AACY,UAAA,IAAA,GAAO;AACX,MAAA,QAAQ,EAAE,EADC;AAEX,MAAA,QAAQ,EAAE;AAFC,KAAP;AAIA,UAAA,OAAA,GAAmB,KAAnB;AACA,UAAA,OAAA,GAAkB,EAAlB;AACA,UAAA,aAAA,GAAyB,IAAzB;AACA,UAAA,aAAA,GAAyB,IAAzB;AARZ;AA4DC;;AA5DD;AAAA;AAAA,WAgBI,mBAAO;AACH,UAAI,KAAK,UAAT,EAAqB;AACjB,aAAK,OAAL,CAAa,IAAb,CAAkB,GAAlB;AACC;AACR;AApBL;AAAA;AAAA,WAsBY,qBAAY,QAAZ,EAA4B;AAChC,WAAK,IAAL,CAAU,QAAV,GAAqB,QAArB;AACH;AAxBL;AAAA;AAAA,WA0BY,qBAAY,QAAZ,EAA4B;AAChC,WAAK,IAAL,CAAU,QAAV,GAAqB,QAArB;AACH;AA5BL;AAAA;AAAA,WA8BY,wBAAY;AAAA;;AAChB,WAAK,OAAL,GAAe,EAAf;AACA,WAAK,aAAL,GAAqB,6BAAK,IAAL,CAAU,QAAV,4EAAoB,MAApB,IAA8B,CAAnD;AACA,WAAK,aAAL,GAAqB,6BAAK,IAAL,CAAU,QAAV,4EAAoB,MAApB,IAA8B,CAAnD;AACA,aAAO,KAAK,aAAL,IAAsB,KAAK,aAAlC;AACH;AAnCL;AAAA;AAAA,WAqCI,uBAAW;AAAA;;AACP,WAAK,OAAL,GAAe,IAAf;AACA,UAAI,OAAO,GAAG,KAAK,YAAL,EAAd;;AACA,UAAI,CAAC,OAAL,EAAc;AACV,aAAK,OAAL,GAAe,KAAf;AACA;AACH;;AACD,UAAI,KAAK,IAAL,CAAU,QAAV,IAAsB,KAAK,IAAL,CAAU,QAApC,EAA8C;AAC1C,aAAK,KAAL,CAAW,KAAK,IAAhB,EAAsB,IAAtB,CACI,YAAK;AACD,UAAA,MAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,GAAlB;AACH,SAHL,EAII,UAAC,KAAD,EAAU;AACN,UAAA,MAAI,CAAC,OAAL,GAAe,KAAf;;AACA,cAAI,KAAK,KAAK,iBAAd,EAAiC;AAC7B,YAAA,MAAI,CAAC,OAAL,GAAe,oEAAf;AACH,WAFD,MAEO;AACH,YAAA,MAAI,CAAC,OAAL,GAAe,8BAAf;AACH;AACJ,SAXL;AAaH;AACJ;AA3DL;;AAAA;AAAA,EAAmC,GAAnC,CAAA;;AAWI,UAAA,CAAA,CADC,IAAI,CAAC,MAAL,CAAY,YAAZ,CACD,E,kCAAA,CAAA,E,eAAA,E,YAAA,E,KAA6B,CAA7B,CAAA;;AAGA,UAAA,CAAA,CADC,IAAI,CAAC,MACN,E,mCAAA,CAAA,E,eAAA,E,OAAA,E,KAA4C,CAA5C,CAAA;;AAdiB,KAAK,GAAA,UAAA,CAAA,CALzB,SAAS,CAAC;AACP,EAAA,UAAU,EAAE;AACR,IAAA,UAAU,EAAV;AADQ;AADL,CAAD,CAKgB,CAAA,EAAL,KAAK,CAAL;eAAA,K","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { namespace } from \"vuex-class\";\nimport InputField from \"@/components/common/InputField.vue\";\n\nconst Auth = namespace(\"Auth\");\n\n@Component({\n    components: {\n        InputField\n    }\n})\nexport default class Login extends Vue {\n    private user = {\n        username: '',\n        password: ''\n    };\n    private loading: boolean = false;\n    private message: string = \"\";\n    private usernameValid: boolean = true;\n    private passwordValid: boolean = true;\n\n    @Auth.Getter('isLoggedIn')\n    private isLoggedIn!: boolean;\n\n    @Auth.Action\n    private login!: (data: any) => Promise<any>;\n\n    created() {\n        if (this.isLoggedIn) {\n            this.$router.push('/');\n            }\n    }\n\n    private setPassword(password: string) {\n        this.user.password = password;\n    }\n\n    private setUsername(username: string) {\n        this.user.username = username;\n    }\n\n    private validateForm(): boolean {\n        this.message = '';\n        this.usernameValid = this.user.username?.length !> 0;\n        this.passwordValid = this.user.password?.length !> 0;\n        return this.usernameValid && this.passwordValid;\n    }\n\n    handleLogin() {\n        this.loading = true;\n        let isValid = this.validateForm();\n        if (!isValid) {\n            this.loading = false;\n            return;\n        }\n        if (this.user.username && this.user.password) {\n            this.login(this.user).then(\n                () => {\n                    this.$router.push(\"/\");\n                },\n                (error) => {\n                    this.loading = false;\n                    if (error === \"Bad credentials\") {\n                        this.message = \"The used combination of username/email and password does not exist\";\n                    } else {\n                        this.message = \"Oops, something went wrong..\";\n                    }\n                }\n            );\n        }\n    }\n}\n"],"sourceRoot":""}]}