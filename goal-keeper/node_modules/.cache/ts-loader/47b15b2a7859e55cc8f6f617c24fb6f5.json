{"remainingRequest":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/thread-loader/dist/cjs.js!/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/babel-loader/lib/index.js!/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/ts-loader/index.js??ref--14-3!/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/src/components/accessmanagement/UpdatePassword.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/src/components/accessmanagement/UpdatePassword.vue","mtime":1620157880782},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvZGFubnkvZnVsbHN0YWNrLXByb2plY3RzL2dvYWwta2VlcGVyLXByb2plY3QvZ29hbC1rZWVwZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMvZGFubnkvZnVsbHN0YWNrLXByb2plY3RzL2dvYWwta2VlcGVyLXByb2plY3QvZ29hbC1rZWVwZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICIvVXNlcnMvZGFubnkvZnVsbHN0YWNrLXByb2plY3RzL2dvYWwta2VlcGVyLXByb2plY3QvZ29hbC1rZWVwZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICIvVXNlcnMvZGFubnkvZnVsbHN0YWNrLXByb2plY3RzL2dvYWwta2VlcGVyLXByb2plY3QvZ29hbC1rZWVwZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyIjsKaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gInRzbGliIjsKaW1wb3J0IHsgQ29tcG9uZW50LCBWdWUgfSBmcm9tICJ2dWUtcHJvcGVydHktZGVjb3JhdG9yIjsKaW1wb3J0IEJ1dHRvbiBmcm9tICJAL2NvbXBvbmVudHMvY29tbW9uL0J1dHRvbi52dWUiOwppbXBvcnQgSW5wdXRGaWVsZCBmcm9tICJAL2NvbXBvbmVudHMvY29tbW9uL0lucHV0RmllbGQudnVlIjsKaW1wb3J0IEF1dGhCYWNrZW5kIGZyb20gIkAvYmFja2VuZC9BdXRoQmFja2VuZCI7Cgp2YXIgVXBkYXRlUGFzc3dvcmQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9WdWUpIHsKICBfaW5oZXJpdHMoVXBkYXRlUGFzc3dvcmQsIF9WdWUpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKFVwZGF0ZVBhc3N3b3JkKTsKCiAgZnVuY3Rpb24gVXBkYXRlUGFzc3dvcmQoKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFVwZGF0ZVBhc3N3b3JkKTsKCiAgICBfdGhpcyA9IF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgX3RoaXMuaW52YWxpZFRva2VuID0gZmFsc2U7CiAgICBfdGhpcy5wYXNzd29yZElzVmFsaWQgPSB0cnVlOwogICAgX3RoaXMucGFzc3dvcmRVcGRhdGVkID0gZmFsc2U7CiAgICBfdGhpcy5wYXNzd29yZENvbmZpcm1Jc1ZhbGlkID0gdHJ1ZTsKICAgIF90aGlzLnBhc3N3b3JkID0gIiI7CiAgICBfdGhpcy5wYXNzd29yZENvbmZpcm0gPSAiIjsKICAgIF90aGlzLnRva2VuID0gIiI7CiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoVXBkYXRlUGFzc3dvcmQsIFt7CiAgICBrZXk6ICJtb3VudGVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMudG9rZW4gPSB0aGlzLiRyb3V0ZS5xdWVyeS50b2tlbjsKCiAgICAgIGlmICh0aGlzLnRva2VuLmxlbmd0aCA+IDApIHsKICAgICAgICBBdXRoQmFja2VuZC52YWxpZGF0ZVBhc3N3b3JkVG9rZW4odGhpcy50b2tlbikudGhlbihmdW5jdGlvbiAoKSB7fSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA0MDApIHsKICAgICAgICAgICAgX3RoaXMyLmludmFsaWRUb2tlbiA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pbnZhbGlkVG9rZW4gPSB0cnVlOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAibmF2aWdhdGVUb0xvZ2luIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBuYXZpZ2F0ZVRvTG9naW4oKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvbG9naW4iKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRQYXNzd29yZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0UGFzc3dvcmQocGFzc3dvcmQpIHsKICAgICAgdGhpcy5wYXNzd29yZCA9IHBhc3N3b3JkOwogICAgfQogIH0sIHsKICAgIGtleTogInNldFBhc3N3b3JkQ29uZmlybSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0UGFzc3dvcmRDb25maXJtKHBhc3N3b3JkKSB7CiAgICAgIHRoaXMucGFzc3dvcmRDb25maXJtID0gcGFzc3dvcmQ7CiAgICB9CiAgfSwgewogICAga2V5OiAiaGFuZGxlUGFzc3dvcmRSZXNldCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlUGFzc3dvcmRSZXNldCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLnBhc3N3b3JkSXNWYWxpZCA9IHRoaXMucGFzc3dvcmQubGVuZ3RoID4gMDsKICAgICAgdGhpcy5wYXNzd29yZENvbmZpcm1Jc1ZhbGlkID0gdGhpcy5wYXNzd29yZCA9PT0gdGhpcy5wYXNzd29yZENvbmZpcm07CgogICAgICBpZiAodGhpcy5wYXNzd29yZElzVmFsaWQgJiYgdGhpcy5wYXNzd29yZENvbmZpcm1Jc1ZhbGlkKSB7CiAgICAgICAgQXV0aEJhY2tlbmQuc2F2ZVBhc3N3b3JkKHRoaXMucGFzc3dvcmQsIHRoaXMudG9rZW4pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMzLnBhc3N3b3JkVXBkYXRlZCA9IHRydWU7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA0MDApIHsKICAgICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yJyk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9XSk7CgogIHJldHVybiBVcGRhdGVQYXNzd29yZDsKfShWdWUpOwoKVXBkYXRlUGFzc3dvcmQgPSBfX2RlY29yYXRlKFtDb21wb25lbnQoewogIGNvbXBvbmVudHM6IHsKICAgIElucHV0RmllbGQ6IElucHV0RmllbGQsCiAgICBCdXR0b246IEJ1dHRvbgogIH0KfSldLCBVcGRhdGVQYXNzd29yZCk7CmV4cG9ydCBkZWZhdWx0IFVwZGF0ZVBhc3N3b3JkOw=="},{"version":3,"sources":["/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/src/components/accessmanagement/UpdatePassword.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;;;;AAqCA,SAAS,SAAT,EAAoB,GAApB,QAA+B,wBAA/B;AACA,OAAO,MAAP,MAAmB,gCAAnB;AACA,OAAO,UAAP,MAAuB,oCAAvB;AACA,OAAO,WAAP,MAAwB,uBAAxB;;AAQA,IAAqB,cAArB;AAAA;;AAAA;;AAAA,4BAAA;AAAA;;AAAA;;;AAEU,UAAA,YAAA,GAAwB,KAAxB;AACA,UAAA,eAAA,GAA2B,IAA3B;AACA,UAAA,eAAA,GAA2B,KAA3B;AACA,UAAA,sBAAA,GAAkC,IAAlC;AACA,UAAA,QAAA,GAAmB,EAAnB;AACA,UAAA,eAAA,GAA0B,EAA1B;AACA,UAAA,KAAA,GAAQ,EAAR;AARV;AAmDC;;AAnDD;AAAA;AAAA,WAUE,mBAAO;AAAA;;AACL,WAAK,KAAL,GAAa,KAAK,MAAL,CAAY,KAAZ,CAAkB,KAA/B;;AACA,UAAI,KAAK,KAAL,CAAW,MAAX,GAAoB,CAAxB,EAA2B;AACzB,QAAA,WAAW,CAAC,qBAAZ,CAAkC,KAAK,KAAvC,EACC,IADD,CACM,YAAK,CACV,CAFD,EAEG,KAFH,CAES,UAAA,KAAK,EAAG;AACf,cAAI,KAAK,CAAC,QAAN,CAAe,MAAf,KAA0B,GAA9B,EAAmC;AACjC,YAAA,MAAI,CAAC,YAAL,GAAoB,IAApB;AACD;AACF,SAND;AAOD,OARD,MAQO;AACL,aAAK,YAAL,GAAoB,IAApB;AACD;AACF;AAvBH;AAAA;AAAA,WAyBU,2BAAe;AACrB,WAAK,OAAL,CAAa,IAAb,CAAkB,QAAlB;AACD;AA3BH;AAAA;AAAA,WA6BU,qBAAY,QAAZ,EAA4B;AAClC,WAAK,QAAL,GAAgB,QAAhB;AACD;AA/BH;AAAA;AAAA,WAiCU,4BAAmB,QAAnB,EAAmC;AACzC,WAAK,eAAL,GAAuB,QAAvB;AACD;AAnCH;AAAA;AAAA,WAqCE,+BAAmB;AAAA;;AACjB,WAAK,eAAL,GAAuB,KAAK,QAAL,CAAc,MAAd,GAAuB,CAA9C;AACA,WAAK,sBAAL,GAA8B,KAAK,QAAL,KAAkB,KAAK,eAArD;;AACA,UAAI,KAAK,eAAL,IAAwB,KAAK,sBAAjC,EAAyD;AACvD,QAAA,WAAW,CAAC,YAAZ,CAAyB,KAAK,QAA9B,EAAwC,KAAK,KAA7C,EAAoD,IAApD,CAAyD,YAAK;AAC5D,UAAA,MAAI,CAAC,eAAL,GAAuB,IAAvB;AACD,SAFD,EAEG,KAFH,CAES,UAAA,KAAK,EAAG;AACf,cAAI,KAAK,CAAC,QAAN,CAAe,MAAf,KAA0B,GAA9B,EAAmC;AACjC,YAAA,OAAO,CAAC,GAAR,CAAY,OAAZ;AACD;AACF,SAND;AAOD;AACF;AAjDH;;AAAA;AAAA,EAA4C,GAA5C,CAAA;;AAAqB,cAAc,GAAA,UAAA,CAAA,CANlC,SAAS,CAAC;AACT,EAAA,UAAU,EAAE;AACV,IAAA,UAAU,EAAV,UADU;AAEV,IAAA,MAAM,EAAN;AAFU;AADH,CAAD,CAMyB,CAAA,EAAd,cAAc,CAAd;eAAA,c","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from \"vue-property-decorator\";\nimport Button from \"@/components/common/Button.vue\";\nimport InputField from \"@/components/common/InputField.vue\";\nimport AuthBackend from \"@/backend/AuthBackend\";\n\n@Component({\n  components: {\n    InputField,\n    Button\n  }\n})\nexport default class UpdatePassword extends Vue {\n\n  private invalidToken: boolean = false;\n  private passwordIsValid: boolean = true;\n  private passwordUpdated: boolean = false;\n  private passwordConfirmIsValid: boolean = true;\n  private password: string = \"\";\n  private passwordConfirm: string = \"\";\n  private token = \"\";\n\n  mounted() {\n    this.token = this.$route.query.token as string;\n    if (this.token.length > 0) {\n      AuthBackend.validatePasswordToken(this.token)\n      .then(() => {\n      }).catch(error => {\n        if (error.response.status === 400) {\n          this.invalidToken = true;\n        }\n      });\n    } else {\n      this.invalidToken = true;\n    }\n  }\n\n  private navigateToLogin() {\n    this.$router.push(\"/login\");\n  }\n\n  private setPassword(password: string) {\n    this.password = password;\n  }\n\n  private setPasswordConfirm(password: string) {\n    this.passwordConfirm = password;\n  }\n\n  handlePasswordReset() {\n    this.passwordIsValid = this.password.length > 0;\n    this.passwordConfirmIsValid = this.password === this.passwordConfirm;\n    if (this.passwordIsValid && this.passwordConfirmIsValid) {\n      AuthBackend.savePassword(this.password, this.token).then(() => {\n        this.passwordUpdated = true;\n      }).catch(error => {\n        if (error.response.status === 400) {\n          console.log('error')\n        }\n      });\n    }\n  }\n\n}\n"],"sourceRoot":""}]}