{"remainingRequest":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/thread-loader/dist/cjs.js!/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/babel-loader/lib/index.js!/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/ts-loader/index.js??ref--14-3!/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/eslint-loader/index.js??ref--13-0!/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/src/backend/AuthBackend.ts","dependencies":[{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/src/backend/AuthBackend.ts","mtime":1619906527474},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvZGFubnkvZnVsbHN0YWNrLXByb2plY3RzL2dvYWwta2VlcGVyLXByb2plY3QvZ29hbC1rZWVwZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMvZGFubnkvZnVsbHN0YWNrLXByb2plY3RzL2dvYWwta2VlcGVyLXByb2plY3QvZ29hbC1rZWVwZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IHZhciBBVVRIRU5USUNBVElPTl9BUElfVVJMID0gcHJvY2Vzcy5lbnYuVlVFX0FQUF9CQVNFX1VSTCArICcvYXBpL2F1dGgvJzsKdmFyIFNJR05fSU5fVVJMID0gJ3NpZ25pbic7CnZhciBTSUdOX1VQX1VSTCA9ICdzaWdudXAnOwp2YXIgUkVTRVRfUEFTU1dPUkRfVVJMID0gJ3Jlc2V0UGFzc3dvcmQnOwp2YXIgVVBEQVRFX1BBU1NXT1JEX1VSTCA9ICdzYXZlUGFzc3dvcmQnOwp2YXIgVkFMSURBVEVfVE9LRU5fVVJMID0gJ3ZhbGlkYXRlVG9rZW4nOwoKdmFyIEF1dGhCYWNrZW5kID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBBdXRoQmFja2VuZCgpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBdXRoQmFja2VuZCk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoQXV0aEJhY2tlbmQsIFt7CiAgICBrZXk6ICJsb2dpbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbG9naW4odXNlcm5hbWUsIHBhc3N3b3JkKSB7CiAgICAgIHJldHVybiBheGlvcy5wb3N0KEFVVEhFTlRJQ0FUSU9OX0FQSV9VUkwgKyBTSUdOX0lOX1VSTCwgewogICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSwKICAgICAgICBwYXNzd29yZDogcGFzc3dvcmQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5hY2Nlc3NUb2tlbikgewogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXInLCBKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhKSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAibG9nb3V0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBsb2dvdXQoKSB7CiAgICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpOwogICAgfQogIH0sIHsKICAgIGtleTogInJlZ2lzdGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZWdpc3RlcihkYXRhKSB7CiAgICAgIHJldHVybiBheGlvcy5wb3N0KEFVVEhFTlRJQ0FUSU9OX0FQSV9VUkwgKyBTSUdOX1VQX1VSTCwgZGF0YSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVzZXRQYXNzd29yZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXRQYXNzd29yZChlbWFpbCkgewogICAgICByZXR1cm4gYXhpb3MucG9zdChBVVRIRU5USUNBVElPTl9BUElfVVJMICsgUkVTRVRfUEFTU1dPUkRfVVJMLCBudWxsLCB7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBlbWFpbDogZW1haWwKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInNhdmVQYXNzd29yZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZVBhc3N3b3JkKG5ld1Bhc3N3b3JkLCB0b2tlbikgewogICAgICByZXR1cm4gYXhpb3MucG9zdChBVVRIRU5USUNBVElPTl9BUElfVVJMICsgVVBEQVRFX1BBU1NXT1JEX1VSTCwgewogICAgICAgIG5ld1Bhc3N3b3JkOiBuZXdQYXNzd29yZCwKICAgICAgICB0b2tlbjogdG9rZW4KICAgICAgfSwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ2YWxpZGF0ZVBhc3N3b3JkVG9rZW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIHZhbGlkYXRlUGFzc3dvcmRUb2tlbih0b2tlbikgewogICAgICByZXR1cm4gYXhpb3MuZ2V0KEFVVEhFTlRJQ0FUSU9OX0FQSV9VUkwgKyBWQUxJREFURV9UT0tFTl9VUkwsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHRva2VuOiB0b2tlbgogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gQXV0aEJhY2tlbmQ7Cn0oKTsKCmV4cG9ydCBkZWZhdWx0IG5ldyBBdXRoQmFja2VuZCgpOw=="},{"version":3,"sources":["/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/node_modules/eslint-loader/index.js??ref--13-0!/Users/danny/fullstack-projects/goal-keeper-project/goal-keeper/src/backend/AuthBackend.ts"],"names":[],"mappings":";;AAAA,OAAO,KAAP,MAAkB,OAAlB;AAIA,OAAO,IAAM,sBAAsB,GAAG,OAAO,CAAC,GAAR,CAAY,gBAAZ,GAA+B,YAA9D;AACP,IAAM,WAAW,GAAG,QAApB;AACA,IAAM,WAAW,GAAG,QAApB;AACA,IAAM,kBAAkB,GAAG,eAA3B;AACA,IAAM,mBAAmB,GAAG,cAA5B;AACA,IAAM,kBAAkB,GAAG,eAA3B;;IAEM,W;;;;;;;WAEF,eAAM,QAAN,EAAwB,QAAxB,EAAwC;AACpC,aAAO,KAAK,CACP,IADE,CACG,sBAAsB,GAAG,WAD5B,EACyC;AACxC,QAAA,QAAQ,EAAR,QADwC;AAExC,QAAA,QAAQ,EAAR;AAFwC,OADzC,EAKF,IALE,CAKG,UAAA,QAAQ,EAAG;AACb,YAAI,QAAQ,CAAC,IAAT,CAAc,WAAlB,EAA+B;AAC3B,UAAA,YAAY,CAAC,OAAb,CAAqB,MAArB,EAA6B,IAAI,CAAC,SAAL,CAAe,QAAQ,CAAC,IAAxB,CAA7B;AACH;;AACD,eAAO,QAAQ,CAAC,IAAhB;AACH,OAVE,CAAP;AAWH;;;WAED,kBAAM;AACF,MAAA,YAAY,CAAC,KAAb;AACH;;;WAED,kBAAS,IAAT,EAA+B;AAC3B,aAAO,KAAK,CAAC,IAAN,CAAW,sBAAsB,GAAG,WAApC,EAAiD,IAAjD,CAAP;AACH;;;WAED,uBAAc,KAAd,EAA2B;AACvB,aAAO,KAAK,CAAC,IAAN,CAAW,sBAAsB,GAAG,kBAApC,EAAwD,IAAxD,EAA8D;AAAE,QAAA,MAAM,EAAE;AAAC,UAAA,KAAK,EAAE;AAAR;AAAV,OAA9D,CAAP;AACH;;;WAED,sBAAa,WAAb,EAAkC,KAAlC,EAA+C;AAC3C,aAAO,KAAK,CAAC,IAAN,CAAW,sBAAsB,GAAG,mBAApC,EAAyD;AAAC,QAAA,WAAW,EAAE,WAAd;AAA2B,QAAA,KAAK,EAAE;AAAlC,OAAzD,EAAmG;AACtG,QAAA,OAAO,EAAE;AAAG,UAAA,MAAM,EAAE;AAAX;AAD6F,OAAnG,CAAP;AAGH;;;WAED,+BAAsB,KAAtB,EAAmC;AAC/B,aAAO,KAAK,CAAC,GAAN,CAAU,sBAAsB,GAAG,kBAAnC,EAAuD;AAAE,QAAA,MAAM,EAAE;AAAC,UAAA,KAAK,EAAE;AAAR;AAAV,OAAvD,CAAP;AACH;;;;;;AAGL,eAAe,IAAI,WAAJ,EAAf","sourcesContent":["import axios from 'axios';\nimport SignupRequestDto from \"@/data/dto/SignupRequestDto\";\nimport authHeader from \"@/backend/AuthHeader\";\n\nexport const AUTHENTICATION_API_URL = process.env.VUE_APP_BASE_URL + '/api/auth/';\nconst SIGN_IN_URL = 'signin';\nconst SIGN_UP_URL = 'signup';\nconst RESET_PASSWORD_URL = 'resetPassword';\nconst UPDATE_PASSWORD_URL = 'savePassword';\nconst VALIDATE_TOKEN_URL = 'validateToken';\n\nclass AuthBackend {\n\n    login(username: string, password: string) {\n        return axios\n            .post(AUTHENTICATION_API_URL + SIGN_IN_URL, {\n                username,\n                password\n            })\n            .then(response => {\n                if (response.data.accessToken) {\n                    localStorage.setItem('user', JSON.stringify(response.data));\n                }\n                return response.data;\n            });\n    }\n\n    logout() {\n        localStorage.clear();\n    }\n\n    register(data: SignupRequestDto) {\n        return axios.post(AUTHENTICATION_API_URL + SIGN_UP_URL, data);\n    }\n\n    resetPassword(email: string) {\n        return axios.post(AUTHENTICATION_API_URL + RESET_PASSWORD_URL, null, { params: {email: email }});\n    }\n\n    savePassword(newPassword: string, token: string) {\n        return axios.post(AUTHENTICATION_API_URL + UPDATE_PASSWORD_URL, {newPassword: newPassword, token: token}, {\n            headers: {  Accept: 'application/json'}\n        });\n    }\n\n    validatePasswordToken(token: string) {\n        return axios.get(AUTHENTICATION_API_URL + VALIDATE_TOKEN_URL, { params: {token: token }});\n    }\n}\n\nexport default new AuthBackend();\n"],"sourceRoot":""}]}